{"version":3,"sources":["webpack://@sycho/flarum-action-log/webpack/bootstrap","webpack://@sycho/flarum-action-log/./admin.js","webpack://@sycho/flarum-action-log/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@sycho/flarum-action-log/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@sycho/flarum-action-log/./src/admin/addActionLogPane.js","webpack://@sycho/flarum-action-log/./src/admin/compat.js","webpack://@sycho/flarum-action-log/./src/admin/components/ActionLogPage.js","webpack://@sycho/flarum-action-log/./src/admin/index.js","webpack://@sycho/flarum-action-log/./src/admin/models/ActionLogEntry.js","webpack://@sycho/flarum-action-log/external \"flarum.core\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['Model']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['app']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/AdminLinkButton']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/AdminNav']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/Page']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/Placeholder']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['extend']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['helpers/avatar']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['helpers/humanTime']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['helpers/icon']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['helpers/username']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['utils/mixin']\""],"names":["app","routes","actionLog","path","component","ActionLogPage","extensionSettings","m","route","extend","AdminNav","prototype","items","add","AdminLinkButton","href","icon","children","translator","trans","description","ActionLogEntry","init","entries","load","view","loading","length","map","entry","showActor","formatName","type","humanTime","createdAt","actor","avatar","username","store","find","then","handleResponse","bind","redraw","response","key","format","resourceType","name","Object","keys","index","buildResourceName","user","title","resourceId","version","link","Page","initializers","models","addActionLogPane","compat","actionLogCompat","mixin","Model","id","attribute","hasOne","transformDate","discussion","post","group"],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./admin.js\");\n","export * from './src/admin'\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import { extend } from 'flarum/extend';\nimport ActionLogPage from './components/ActionLogPage';\nimport AdminNav from 'flarum/components/AdminNav';\nimport AdminLinkButton from 'flarum/components/AdminLinkButton';\n\nexport default function() {\n  app.routes.actionLog = {path: '/logs', component: ActionLogPage.component()};\n\n  app.extensionSettings['sycho-action-log'] = m.route(app.route('actionLog'));\n\n  extend(AdminNav.prototype, 'items', items => {\n    items.add('actionLog', AdminLinkButton.component({\n      href: app.route('actionLog'),\n      icon: 'fas fa-clipboard-list',\n      children: app.translator.trans('sycho-action-log.admin.title'),\n      description: app.translator.trans('sycho-action-log.admin.description'),\n    }));\n  });\n}\n","import ActionLogPage from './components/ActionLogPage';\nimport ActionLogEntry from './models/ActionLogEntry';\n\nexport default {\n  'actionLog/components/ActionLogPage': ActionLogPage,\n  'actionLog/models/ActionLogEntry': ActionLogEntry,\n};\n","import Page from 'flarum/components/Page';\nimport LoadingIndicator from 'flarum/components/LoadingIndicator';\nimport humanTime from 'flarum/helpers/humanTime';\nimport icon from 'flarum/helpers/icon';\nimport avatar from 'flarum/helpers/avatar';\nimport username from 'flarum/helpers/username';\nimport Placeholder from 'flarum/components/Placeholder';\n\nexport default class ActionLogPage extends Page {\n  init() {\n    super.init();\n\n    this.entries = [];\n\n    this.load();\n  }\n\n  view() {\n    return (\n      <div className=\"ActionLogPage\">\n        <div className=\"ActionLogPage-header\">\n          <div className=\"container\">\n            <h2>\n              {icon('fas fa-clipboard-list')} {app.translator.trans('sycho-action-log.admin.title')}\n            </h2>\n          </div>\n        </div>\n\n        <div className=\"ActionLogPage-content\">\n          <div className=\"container\">\n            {this.loading ? (\n              <LoadingIndicator className=\"LoadingIndicator--block\" />\n            ) :\n              this.entries.length ? (\n                <div className=\"ActionLogGrid\">\n                  {this.entries.map(entry => (\n                    <div className=\"ActionLogGrid-item\">\n                      <div className=\"ActionLogGrid-entryActor\">{this.showActor(entry)}</div>\n                      <div className=\"ActionLogGrid-entryName\">{this.formatName(entry)}</div>\n                      <div className=\"ActionLogGrid-entryType\">{entry.type()}</div>\n                      <div className=\"ActionLogGrid-entryTime\">{icon('far fa-clock')} {humanTime(entry.createdAt())}</div>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <Placeholder text={app.translator.trans('sycho-action-log.admin.no_entries')} />\n              )\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * @param entry\n   * @returns string\n   */\n  showActor(entry) {\n    if (! entry.actor()) return;\n\n    return <a>{avatar(entry.actor())}{username(entry.actor())}</a>;\n  }\n\n  /**\n   * Loads the log entries\n   */\n  load() {\n    this.loading = true;\n\n    app.store\n      .find('action-log-entries')\n      .then(this.handleResponse.bind(this))\n      .then(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n\n  handleResponse(response) {\n    this.entries = response;\n\n    return response;\n  }\n\n  /**\n   * Finds the appropriate language string\n   * and calls for the resource name to be built\n   *\n   * @param entry\n   * @returns string\n   */\n  formatName(entry) {\n    let key = `sycho-action-log.admin.actions.${entry.type()}`;\n    let format = entry.format();\n\n    if (entry.resourceType().length) {\n      key += `.${entry.resourceType()}`;\n    }\n\n    key += `.${entry.name()}`;\n\n    // If there are any objects, convert them to strings using the buildResourceName() method\n    Object.keys(format).map((key, index) => {\n      if (typeof format[key] !== 'object') return;\n\n      // The core code tries to get the displayName attribute when the\n      // translation parameter key is named 'user', even if the value is a string\n      // so we have no choice but to add some ugly hackish code here\n      format[key === 'user' ? 'u' : key] = this.buildResourceName(key, entry);\n\n      if (key === 'user')\n        delete format.user;\n    });\n\n    return app.translator.trans(key, format);\n  }\n\n  /**\n   * Gives context to the resource manipulated\n   *\n   * @param format\n   * @param entry\n   * @returns string\n   */\n  buildResourceName(key, entry) {\n    const format = entry.format()[key] || {};\n    let name = format.title || format.name || 'unknown';\n\n    if (entry.resourceId() && key === entry.resourceType()) {\n      name = `#${entry.resourceId()} - ${name}`;\n    }\n\n    if (format.version) {\n      name = [\n        name,\n        <i> ({format.version})</i>\n      ];\n    }\n\n    if (format.icon) {\n      name = [\n        <span className=\"Badge ActionLogExtensionIcon\" style={format.icon}>\n          {icon(format.icon.name)}\n        </span>,\n        name\n      ];\n    }\n\n    if (format.link) {\n      name = <a href={format.link}>{name}</a>;\n    }\n\n    // Style the resource name\n    name = <strong>{name}</strong>;\n\n    return name;\n  }\n}\n","import app from 'flarum/app';\nimport ActionLogEntry from './models/ActionLogEntry';\nimport addActionLogPane from './addActionLogPane';\n\napp.initializers.add('sycho-action-log', app => {\n  app.store.models['action-log-entries'] = ActionLogEntry;\n\n  addActionLogPane();\n});\n\nimport actionLogCompat from './compat';\nimport { compat } from '@flarum/core/admin';\n\nObject.assign(compat, actionLogCompat);\n","import Model from 'flarum/Model';\nimport mixin from \"flarum/utils/mixin\";\n\nexport default class ActionLogEntry extends mixin(Model, {\n  id: Model.attribute('id'),\n  name: Model.attribute('name'),\n  type: Model.attribute('type'),\n  actor: Model.hasOne('actor'),\n  resourceType: Model.attribute('resource_type'),\n  resourceId: Model.attribute('resource_id'),\n  createdAt: Model.attribute('created_at', Model.transformDate),\n  format: Model.attribute('format'),\n\n  discussion: Model.hasOne('discussion'),\n  post: Model.hasOne('post'),\n  group: Model.hasOne('group'),\n  user: Model.hasOne('user'),\n}) {}\n","module.exports = flarum.core;","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['components/AdminLinkButton'];","module.exports = flarum.core.compat['components/AdminNav'];","module.exports = flarum.core.compat['components/LoadingIndicator'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['components/Placeholder'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['helpers/avatar'];","module.exports = flarum.core.compat['helpers/humanTime'];","module.exports = flarum.core.compat['helpers/icon'];","module.exports = flarum.core.compat['helpers/username'];","module.exports = flarum.core.compat['utils/mixin'];"],"sourceRoot":""}