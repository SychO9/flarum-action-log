{"version":3,"sources":["webpack://@sycho/flarum-action-log/webpack/bootstrap","webpack://@sycho/flarum-action-log/./admin.js","webpack://@sycho/flarum-action-log/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://@sycho/flarum-action-log/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@sycho/flarum-action-log/./src/admin/components/ActionLogEntryList.js","webpack://@sycho/flarum-action-log/./src/admin/components/ActionLogPage.js","webpack://@sycho/flarum-action-log/./src/admin/components/ActionLogSection.js","webpack://@sycho/flarum-action-log/./src/admin/index.js","webpack://@sycho/flarum-action-log/./src/admin/modals/ActionLogSettingsModal.js","webpack://@sycho/flarum-action-log/./src/admin/modals/FiltersHelpModal.js","webpack://@sycho/flarum-action-log/./src/admin/models/ActionLogEntry.js","webpack://@sycho/flarum-action-log/./src/admin/states/ActionLogSectionState.js","webpack://@sycho/flarum-action-log/./src/admin/utils/ActionLogControls.js","webpack://@sycho/flarum-action-log/./src/admin/utils/Formatter.js","webpack://@sycho/flarum-action-log/external \"flarum.extensions['sycho-uikit']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['Component']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['Model']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['app']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['common/Component']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['common/components/Button']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['common/components/Select']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['common/utils/ItemList']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['common/utils/Stream']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/Button']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/Dropdown']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/Modal']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/Placeholder']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/SettingsModal']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/Switch']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['helpers/avatar']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['helpers/humanTime']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['helpers/icon']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['helpers/username']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['tags/helpers/tagsLabel']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['tags/models/Tag']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['utils/ItemList']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['utils/mixin']\""],"names":["ActionLogEntryList","oninit","vnode","state","attrs","view","loading","entries","length","app","translator","trans","controls","actions","icons","map","entry","icon","resourceTypes","resourceType","name","$","dom","tooltip","placement","actionNames","avatar","actor","username","formattedName","type","humanTime","createdAt","Component","ActionLogPage","actionLogSectionState","ActionLogSectionState","sections","replace","content","add","mainControls","toArray","items","ItemList","clear","bind","modal","show","ActionLogSettingsModal","ExtensionPage","ActionLogSection","load","count","total","filterControls","buildPagination","initializers","store","models","ActionLogEntry","extensionData","registerPage","excludedLoggingSetting","setting","JSON","stringify","title","form","Object","keys","key","action","getExcludedLoggingValue","includes","parse","value","actionName","excludedLogging","push","filter","item","SettingsModal","FiltersHelpModal","gambits","gambit","Modal","mixin","Model","id","attribute","hasOne","resourceId","transformDate","format","discussion","post","group","user","sortingOptions","newest","oldest","sort","offset","limit","page","query","Stream","ActionLogControls","params","find","requestParams","then","handleResponse","m","redraw","q","response","payload","meta","links","Math","ceil","isTagsEnabled","formatName","prev","hasPrev","getPages","changePage","next","hasNext","pageRange","Array","from","v","k","number","index","Formatter","handle","data","settings","extensions_enabled","indexOf","confirm","request","url","forum","method","Input","uikit","search","active","updateSort","moderation","administration","tag","extension","permission","locked","unlocked","deleted","stickied","unstickied","suspended","unsuspended","approved","created","enabled","disabled","uninstalled","tagged","renamed","hidden","restored","activated","edited","e","target","searching","searchTimeout","clearTimeout","setTimeout","langKey","uniqueHandler","charAt","toUpperCase","slice","genericHandler","guessResourceName","version","link","discussionTagged","tags","oldTags","tagTextConstructor","transChoice","tagsText","tagsLabel","Tag","attributes","groups","backgroundColor"],"mappings":";;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAA,wC;;;;;;;;;;;;ACAA;AAAA;AAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA,C;;;;;;;;;;;;ACbA;AAAA;AAAe;AACf;AACA;AACA;AACA,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;;IAEqBA,kB;;;;;;;;;SACnBC,M,GAAA,gBAAOC,KAAP,EAAc;AACZ,yBAAMD,MAAN,YAAaC,KAAb;;AAEA,SAAKC,KAAL,GAAa,KAAKC,KAAL,CAAWD,KAAxB;AACD,G;;SAEDE,I,GAAA,gBAAO;AACL,QAAI,KAAKF,KAAL,CAAWG,OAAf,EAAwB;AACtB,aAAO,EAAC,yEAAD;AAAkB,iBAAS,EAAC;AAA5B,QAAP;AACD;;AAED,QAAI,CAAC,KAAKH,KAAL,CAAWI,OAAX,CAAmBC,MAAxB,EAAgC;AAC9B,aAAO,EAAC,oEAAD;AAAa,YAAI,EAAEC,GAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,mCAArB;AAAnB,QAAP;AACD;;AAPI,gCASa,KAAKR,KAAL,CAAWS,QAAX,CAAoBC,OAApB,EATb;AAAA,QASGC,KATH,yBASGA,KATH;;AAWL,WACE;AAAK,eAAS,EAAC;AAAf,OACG,KAAKX,KAAL,CAAWI,OAAX,CAAmBQ,GAAnB,CAAuB,UAACC,KAAD;AAAA,aACtB;AAAK,iBAAS,EAAC;AAAf,SACE;AAAK,iBAAS,EAAC;AAAf,SACE;AAAK,iBAAS,EAAC;AAAf,SACGC,0DAAI,CAACH,KAAK,CAACI,aAAN,CAAoBF,KAAK,CAACG,YAAN,EAApB,CAAD,CADP,EAEE;AACE,iBAAS,EAAC,uCADZ;AAEE,aAAK,EAAEH,KAAK,CAACI,IAAN,EAFT;AAGE,gBAAQ,EAAE,kBAAClB,KAAD;AAAA,iBAAWmB,CAAC,CAACnB,KAAK,CAACoB,GAAP,CAAD,CAAaC,OAAb,CAAqB;AAAEC,qBAAS,EAAE;AAAb,WAArB,CAAX;AAAA;AAHZ,SAKGP,0DAAI,CAACH,KAAK,CAACW,WAAN,CAAkBT,KAAK,CAACI,IAAN,EAAlB,CAAD,CALP,CAFF,CADF,CADF,EAaE;AAAK,iBAAS,EAAC;AAAf,SAAuCM,4DAAM,CAACV,KAAK,CAACW,KAAN,EAAD,CAA7C,CAbF,EAcE;AAAK,iBAAS,EAAC;AAAf,SACE;AAAK,iBAAS,EAAC;AAAf,SAA2CC,8DAAQ,CAACZ,KAAK,CAACW,KAAN,EAAD,CAAnD,CADF,EAEE;AAAK,iBAAS,EAAC;AAAf,SAA0CX,KAAK,CAACa,aAAhD,CAFF,EAGE;AAAK,iBAAS,EAAC;AAAf,SACE;AAAK,iBAAS,EAAC;AAAf,SAA0Cb,KAAK,CAACc,IAAN,EAA1C,CADF,EAEE;AAAK,iBAAS,EAAC;AAAf,SACGb,0DAAI,CAAC,cAAD,CADP,OAC0Bc,+DAAS,CAACf,KAAK,CAACgB,SAAN,EAAD,CADnC,CAFF,CAHF,CAdF,CADsB;AAAA,KAAvB,CADH,CADF;AA+BD,G;;;EAjD6CC,uD;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRhD;AACA;AACA;AACA;AACA;AACA;;IAEqBC,a;;;;;;;;;SACnBjC,M,GAAA,gBAAOC,KAAP,EAAc;AACZ,6BAAMD,MAAN,YAAaC,KAAb;;AAEA,SAAKiC,qBAAL,GAA6B,IAAIC,qEAAJ,EAA7B;AACD,G;;SAEDC,Q,GAAA,oBAAW;AACT,QAAMA,QAAQ,4BAASA,QAAT,WAAd;;AAEAA,YAAQ,CAACC,OAAT,CAAiB,SAAjB,EAA4B,KAAKC,OAAL,EAA5B,EAA4C,CAA5C;AACAF,YAAQ,CAACG,GAAT,CAAa,eAAb,EAA8B,EAAC,yDAAD;AAAkB,WAAK,EAAE,KAAKL;AAA9B,MAA9B,EAAuF,CAAvF;AAEA,WAAOE,QAAP;AACD,G;;SAEDE,O,GAAA,mBAAU;AACR,WACE;AAAK,eAAS,EAAC;AAAf,OACE;AAAK,eAAS,EAAC;AAAf,OAAuD,KAAKE,YAAL,GAAoBC,OAApB,EAAvD,CADF,CADF;AAKD,G;;SAEDD,Y,GAAA,wBAAe;AAAA;;AACb,QAAME,KAAK,GAAG,IAAIC,mEAAJ,EAAd;AAEAD,SAAK,CAACH,GAAN,CACE,OADF,EAEE,EAAC,sEAAD;AAAQ,eAAS,EAAC,wBAAlB;AAA2C,UAAI,EAAC,cAAhD;AAA+D,aAAO,EAAE,KAAKL,qBAAL,CAA2BU,KAA3B,CAAiCC,IAAjC,CAAsC,KAAKX,qBAA3C;AAAxE,OACG1B,GAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,8BAArB,CADH,CAFF;AAOAgC,SAAK,CAACH,GAAN,CACE,UADF,EAEE,EAAC,sEAAD;AACE,eAAS,EAAC,QADZ;AAEE,UAAI,EAAC,aAFP;AAGE,aAAO,EAAE;AAAA,eAAM/B,GAAG,CAACsC,KAAJ,CAAUC,IAAV,CAAeC,sEAAf,EAAuC;AAAEpC,iBAAO,EAAE,KAAI,CAACsB,qBAAL,CAA2BvB,QAA3B,CAAoCC,OAApC;AAAX,SAAvC,CAAN;AAAA;AAHX,OAKGJ,GAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,iCAArB,CALH,CAFF;AAWA,WAAOgC,KAAP;AACD,G;;;EA9CwCO,4E;;;;;;;;;;;;;;;;;;;;;ACP3C;AACA;;IAEqBC,gB;;;;;;;;;SACnBlD,M,GAAA,gBAAOC,KAAP,EAAc;AACZ,yBAAMD,MAAN,YAAaC,KAAb;;AAEA,SAAKC,KAAL,GAAa,KAAKC,KAAL,CAAWD,KAAxB;AACA,SAAKA,KAAL,CAAWiD,IAAX;AACD,G;;SAED/C,I,GAAA,gBAAO;AACL,WACE;AAAK,eAAS,EAAC;AAAf,OACE;AAAK,eAAS,EAAC;AAAf,OACE;AAAK,eAAS,EAAC;AAAf,OACE;AAAI,eAAS,EAAC;AAAd,OAAgCI,GAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,sCAArB,EAA6D;AAAE0C,WAAK,EAAE,KAAKlD,KAAL,CAAWmD,KAAX,IAAoB;AAA7B,KAA7D,CAAhC,CADF,CADF,CADF,EAOE;AAAK,eAAS,EAAC;AAAf,OACE;AAAK,eAAS,EAAC;AAAf,OACE;AAAK,eAAS,EAAC;AAAf,OAAkD,KAAKnD,KAAL,CAAWS,QAAX,CAAoB2C,cAApB,CAAmC,IAAnC,EAAyCb,OAAzC,EAAlD,CADF,EAEE,EAAC,2DAAD;AAAoB,WAAK,EAAE,KAAKvC;AAAhC,MAFF,EAGE;AAAK,eAAS,EAAC;AAAf,OAAkD,KAAKA,KAAL,CAAWqD,eAAX,EAAlD,CAHF,CADF,CAPF,CADF;AAiBD,G;;;EA1B2CvB,8D;;;;;;;;;;;;;;ACH9C;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEAxB,iDAAG,CAACgD,YAAJ,CAAiBjB,GAAjB,CACE,kBADF,EAEE,UAAC/B,GAAD,EAAS;AACPA,KAAG,CAACiD,KAAJ,CAAUC,MAAV,CAAiB,oBAAjB,IAAyCC,8DAAzC;AAEAnD,KAAG,CAACoD,aAAJ,QAAsB,kBAAtB,EAA0CC,YAA1C,CAAuD5B,iEAAvD;AACD,CANH,EAOE,CAAC,EAPH,E;;;;;;;;;;;;;;;;;;;;;;;;ACJA;AACA;AACA;AACA;;IAEqBe,sB;;;;;;;;;SACnBhD,M,GAAA,gBAAOC,KAAP,EAAc;AACZ,6BAAMD,MAAN,YAAaC,KAAb;;AAEA,SAAK6D,sBAAL,GAA8B,KAAKC,OAAL,CAAa,mCAAb,EAAkDC,IAAI,CAACC,SAAL,CAAe,EAAf,CAAlD,CAA9B;AACD,G;;SAEDC,K,GAAA,iBAAQ;AACN,WAAO1D,GAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,iCAArB,CAAP;AACD,G;;SAEDyD,I,GAAA,gBAAO;AAAA;;AACL,QAAMvD,OAAO,GAAG,KAAKT,KAAL,CAAWS,OAAX,CAAmB8B,KAAnC;AACA,QAAM7B,KAAK,GAAG,KAAKV,KAAL,CAAWS,OAAX,CAAmBC,KAAjC;AAEA,WAAO,CACL,aAAIL,GAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,wCAArB,CAAJ,CADK,EAEL0D,MAAM,CAACC,IAAP,CAAYzD,OAAZ,EAAqBE,GAArB,CAAyB,UAACwD,GAAD;AAAA,aACvB;AAAK,iBAAS,EAAC;AAAf,SACE,cACE,gBAAO9D,GAAG,CAACC,UAAJ,CAAeC,KAAf,qCAAuD4D,GAAvD,YAAP,CADF,CADF,EAIGF,MAAM,CAACC,IAAP,CAAYzD,OAAO,CAAC0D,GAAD,CAAnB,EAA0BxD,GAA1B,CAA8B,UAACI,YAAD;AAAA,eAC7B;AAAK,mBAAS,EAAC;AAAf,WACE,cACGV,GAAG,CAACC,UAAJ,CAAeC,KAAf,qCAAuD4D,GAAvD,SAA8DpD,YAA9D,YADH,EAEE;AAAM,mBAAS,EAAC;AAAhB,WAAuCF,0DAAI,CAACH,KAAK,CAACI,aAAN,CAAoBC,YAApB,CAAD,CAA3C,CAFF,CADF,EAKGN,OAAO,CAAC0D,GAAD,CAAP,CAAapD,YAAb,EAA2BJ,GAA3B,CAA+B,UAACyD,MAAD;AAAA,iBAC9B;AAAK,qBAAS,EAAC;AAAf,aACE,EAAC,+DAAD;AACE,iBAAK,EAAE,CAAC,KAAI,CAACC,uBAAL,GAA+BC,QAA/B,CAA2CH,GAA3C,SAAkDpD,YAAlD,SAAkEqD,MAAlE,CADV;AAEE,oBAAQ,EAAE,KAAI,UAAJ,CAAY1B,IAAZ,CAAiB,KAAjB,EAAuByB,GAAvB,EAA4BpD,YAA5B,EAA0CqD,MAA1C;AAFZ,aAIG/D,GAAG,CAACC,UAAJ,CAAeC,KAAf,qCAAuD4D,GAAvD,SAA8DpD,YAA9D,SAA8EqD,MAA9E,YAJH,EAKE;AAAM,qBAAS,EAAC;AAAhB,aAAuCvD,0DAAI,CAACH,KAAK,CAACW,WAAN,CAAkB+C,MAAlB,CAAD,CAA3C,CALF,CADF,CAD8B;AAAA,SAA/B,CALH,CAD6B;AAAA,OAA9B,CAJH,CADuB;AAAA,KAAzB,CAFK,CAAP;AA6BD,G;;SAEDC,uB,GAAA,mCAA0B;AACxB,WAAOR,IAAI,CAACU,KAAL,CAAW,KAAKZ,sBAAL,EAAX,CAAP;AACD,G;;qBAED,iBAAOQ,GAAP,EAAYpD,YAAZ,EAA0BqD,MAA1B,EAAkCI,KAAlC,EAAyC;AACvC,QAAMC,UAAU,GAAMN,GAAN,SAAapD,YAAb,SAA6BqD,MAA7C;AACA,QAAIM,eAAe,GAAG,KAAKL,uBAAL,EAAtB;AAEA,QAAI,CAACG,KAAL,EAAYE,eAAe,CAACC,IAAhB,CAAqBF,UAArB,EAAZ,KACKC,eAAe,GAAGA,eAAe,CAACE,MAAhB,CAAuB,UAACC,IAAD;AAAA,aAAUA,IAAI,KAAKJ,UAAnB;AAAA,KAAvB,CAAlB;AAEL,SAAKd,sBAAL,CAA4BE,IAAI,CAACC,SAAL,CAAeY,eAAf,CAA5B;AACD,G;;;EA1DiDI,sE;;;;;;;;;;;;;;;;;;;;ACLpD;;IAEqBC,gB;;;;;;;;;SACnB5C,O,GAAA,mBAAU;AACR,WACE;AAAK,eAAS,EAAC;AAAf,OACG9B,GAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,4CAArB,CADH,EAEE,cACG,KAAKyE,OAAL,GAAerE,GAAf,CAAmB,UAACsE,MAAD;AAAA,aAClB,cACE,kBAASA,MAAT,MADF,OAC8B5E,GAAG,CAACC,UAAJ,CAAeC,KAAf,2CAA6D0E,MAA7D,CAD9B,CADkB;AAAA,KAAnB,CADH,CAFF,CADF;AAYD,G;;SAEDlB,K,GAAA,iBAAQ;AACN,WAAO1D,GAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,sCAArB,CAAP;AACD,G;;SAEDyE,O,GAAA,mBAAU;AACR,WAAO,CAAC,MAAD,EAAS,QAAT,EAAmB,UAAnB,EAA+B,OAA/B,CAAP;AACD,G;;;EAtB2CE,8D;;;;;;;;;;;;;;;;;;;;;;ACF9C;AACA;;IAEqB1B,c;;;;;;;;EAAuB2B,yDAAK,CAACC,mDAAD,EAAQ;AACvDC,IAAE,EAAED,mDAAK,CAACE,SAAN,CAAgB,IAAhB,CADmD;AAEvDtE,MAAI,EAAEoE,mDAAK,CAACE,SAAN,CAAgB,MAAhB,CAFiD;AAGvD5D,MAAI,EAAE0D,mDAAK,CAACE,SAAN,CAAgB,MAAhB,CAHiD;AAIvD/D,OAAK,EAAE6D,mDAAK,CAACG,MAAN,CAAa,OAAb,CAJgD;AAKvDxE,cAAY,EAAEqE,mDAAK,CAACE,SAAN,CAAgB,eAAhB,CALyC;AAMvDE,YAAU,EAAEJ,mDAAK,CAACE,SAAN,CAAgB,aAAhB,CAN2C;AAOvD1D,WAAS,EAAEwD,mDAAK,CAACE,SAAN,CAAgB,YAAhB,EAA8BF,mDAAK,CAACK,aAApC,CAP4C;AAQvDC,QAAM,EAAEN,mDAAK,CAACE,SAAN,CAAgB,QAAhB,CAR+C;AAUvDK,YAAU,EAAEP,mDAAK,CAACG,MAAN,CAAa,YAAb,CAV2C;AAWvDK,MAAI,EAAER,mDAAK,CAACG,MAAN,CAAa,MAAb,CAXiD;AAYvDM,OAAK,EAAET,mDAAK,CAACG,MAAN,CAAa,OAAb,CAZgD;AAavDO,MAAI,EAAEV,mDAAK,CAACG,MAAN,CAAa,MAAb;AAbiD,CAAR,C;;;;;;;;;;;;;;ACHjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;IAEqBvD,qB;AACnB,mCAAc;AACZ,SAAK7B,OAAL,GAAe,EAAf;AAEA,SAAK4F,cAAL,GAAsB;AACpBC,YAAM,EAAE,YADY;AAEpBC,YAAM,EAAE;AAFY,KAAtB;AAKA,SAAKC,IAAL,GAAY,QAAZ;AAEA,SAAKC,MAAL,GAAc,CAAd;AAEA,SAAKC,KAAL,GAAa,EAAb;AAEA,SAAKlD,KAAL,GAAa,CAAb;AAEA,SAAKD,KAAL,GAAa,CAAb;AAEA,SAAKoD,IAAL,GAAY,CAAZ;AAEA,SAAKC,KAAL,GAAaC,iEAAM,CAAC,EAAD,CAAnB;AAEA,SAAK/F,QAAL,GAAgB,IAAIgG,gEAAJ,CAAsB,IAAtB,CAAhB;AACD;AAED;;;;;;;SAGAxD,I,GAAA,cAAKyD,MAAL,EAAa;AAAA;;AACX,SAAKvG,OAAL,GAAe,IAAf;AAEAG,OAAG,CAACiD,KAAJ,CACGoD,IADH,CACQ,oBADR,EAC8B,KAAKC,aAAL,CAAmBF,MAAM,IAAI,EAA7B,CAD9B,EAEGG,IAFH,CAEQ,KAAKC,cAAL,CAAoBnE,IAApB,CAAyB,IAAzB,CAFR,EAGGkE,IAHH,CAGQ,YAAM;AACV,WAAI,CAAC1G,OAAL,GAAe,KAAf;AACA4G,OAAC,CAACC,MAAF;AACD,KANH;AAOD,G;;SAEDJ,a,GAAA,6BAAuC;AAAA,QAAvBR,MAAuB,QAAvBA,MAAuB;AAAA,QAAfG,KAAe,QAAfA,KAAe;AAAA,QAARJ,IAAQ,QAARA,IAAQ;;AACrC,QAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AACjC,WAAKA,MAAL,GAAcA,MAAd;AACD;;AAED,QAAI,OAAOD,IAAP,KAAgB,WAApB,EAAiC;AAC/B,WAAKA,IAAL,GAAYA,IAAZ;AACD;;AAED,WAAO;AACLG,UAAI,EAAE;AACJF,cAAM,EAAE,KAAKA,MADT;AAEJC,aAAK,EAAE,KAAKA;AAFR,OADD;AAKLxB,YAAM,EAAE;AACNoC,SAAC,EAAEV;AADG,OALH;AAQLJ,UAAI,EAAE,KAAKH,cAAL,CAAoB,KAAKG,IAAzB;AARD,KAAP;AAUD,G;;SAEDW,c,GAAA,wBAAeI,QAAf,EAAyB;AAAA;;AACvB,SAAK9G,OAAL,GAAe8G,QAAf;AACA,SAAK/D,KAAL,GAAa+D,QAAQ,CAACC,OAAT,CAAiBC,IAAjB,CAAsBjE,KAAtB,IAA+B,CAA5C;AACA,SAAKD,KAAL,GAAagE,QAAQ,CAACC,OAAT,CAAiBC,IAAjB,CAAsBlE,KAAtB,IAA+B,CAA5C;AACA,SAAKmE,KAAL,GAAaH,QAAQ,CAACC,OAAT,CAAiBE,KAA9B;AACA,SAAKf,IAAL,GAAYgB,IAAI,CAACC,IAAL,CAAU,KAAKnB,MAAL,GAAc,KAAKC,KAA7B,CAAZ;AAEA,SAAKjG,OAAL,GAAe,KAAKA,OAAL,CAAayE,MAAb,CAAoB,UAAChE,KAAD,EAAW;AAC5C,aAAO,EAAE,CAAC,MAAI,CAAC2G,aAAL,EAAD,KAA0B3G,KAAK,CAACG,YAAN,OAAyB,KAAzB,IAAkCH,KAAK,CAACI,IAAN,OAAiB,QAA7E,CAAF,CAAP;AACD,KAFc,CAAf;AAIA,SAAKb,OAAL,CAAaQ,GAAb,CAAiB,UAACC,KAAD,EAAW;AAC1BA,WAAK,CAACa,aAAN,GAAsB,MAAI,CAAC+F,UAAL,CAAgB5G,KAAhB,CAAtB;AACD,KAFD;AAIA,WAAOqG,QAAP;AACD,G;;SAED7D,e,GAAA,2BAAkB;AAChB,QAAI,KAAKH,KAAL,IAAc,KAAKmD,KAAvB,EAA8B,OAAO;AAAK,eAAS,EAAC;AAAf,MAAP;AAE9B,WACE;AAAK,eAAS,EAAC;AAAf,OACE,EAAC,sEAAD;AAAQ,eAAS,EAAC,qBAAlB;AAAwC,UAAI,EAAC,mBAA7C;AAAiE,aAAO,EAAE,KAAKqB,IAAL,CAAU/E,IAAV,CAAe,IAAf,CAA1E;AAAgG,cAAQ,EAAE,CAAC,KAAKgF,OAAL;AAA3G,MADF,EAEE,EAAC,sEAAD;AAAQ,WAAK,EAAE,KAAKrB,IAApB;AAA0B,aAAO,EAAE,KAAKsB,QAAL,EAAnC;AAAoD,cAAQ,EAAE,KAAKC,UAAL,CAAgBlF,IAAhB,CAAqB,IAArB;AAA9D,MAFF,EAGE,EAAC,sEAAD;AAAQ,eAAS,EAAC,qBAAlB;AAAwC,UAAI,EAAC,oBAA7C;AAAkE,aAAO,EAAE,KAAKmF,IAAL,CAAUnF,IAAV,CAAe,IAAf,CAA3E;AAAiG,cAAQ,EAAE,CAAC,KAAKoF,OAAL;AAA5G,MAHF,CADF;AAOD,G;;SAEDD,I,GAAA,gBAAO;AACL,QAAI,CAAC,KAAKC,OAAL,EAAL,EAAqB;AAErB,SAAK9E,IAAL,CAAU;AAAEmD,YAAM,EAAE,KAAKA,MAAL,GAAc,KAAKC;AAA7B,KAAV;AACD,G;;SAEDqB,I,GAAA,gBAAO;AACL,QAAI,CAAC,KAAKC,OAAL,EAAL,EAAqB;AAErB,SAAK1E,IAAL,CAAU;AAAEmD,YAAM,EAAE,KAAKA,MAAL,GAAc,KAAKC;AAA7B,KAAV;AACD,G;;SAED0B,O,GAAA,mBAAU;AACR,WAAO,KAAK3B,MAAL,GAAc,KAAKC,KAAnB,GAA2B,KAAKnD,KAAvC;AACD,G;;SAEDyE,O,GAAA,mBAAU;AACR,WAAO,KAAKN,KAAL,CAAWK,IAAlB;AACD,G;;SAEDE,Q,GAAA,oBAAW;AACT,QAAII,SAAS,GAAGC,KAAK,CAACC,IAAN,CAAW;AAAE7H,YAAM,EAAEiH,IAAI,CAACC,IAAL,CAAU,KAAKrE,KAAL,GAAa,KAAKmD,KAA5B;AAAV,KAAX,EAA2D,UAAC8B,CAAD,EAAIC,CAAJ;AAAA,aAAUA,CAAC,GAAG,CAAd;AAAA,KAA3D,CAAhB;AAEAJ,aAAS,CAACpH,GAAV,CAAc,UAACyH,MAAD,EAASC,KAAT,EAAmB;AAC/BN,eAAS,CAACM,KAAD,CAAT,GAAmBhI,GAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,6BAArB,EAAoD;AAAE6H,cAAM,EAANA;AAAF,OAApD,CAAnB;AACD,KAFD;AAIA,WAAOL,SAAP;AACD,G;;SAEDH,U,GAAA,oBAAWpD,KAAX,EAAkB;AAChB,QAAI,CAACP,MAAM,CAACC,IAAP,CAAY,KAAKyD,QAAL,EAAZ,EAA6BrD,QAA7B,CAAsCE,KAAtC,CAAL,EAAmD;AAEnD,SAAKxB,IAAL,CAAU;AAAEmD,YAAM,EAAE3B,KAAK,GAAG,KAAK4B;AAAvB,KAAV;AACD;AAED;;;;;;SAIAoB,U,GAAA,oBAAW5G,KAAX,EAAkB;AAChB,WAAO,IAAI0H,wDAAJ,CAAc1H,KAAd,EAAqB2H,MAArB,EAAP;AACD;AAED;;;;;SAGAhB,a,GAAA,yBAAgB;AACd,WAAO1D,IAAI,CAACU,KAAL,CAAWlE,GAAG,CAACmI,IAAJ,CAASC,QAAT,CAAkBC,kBAA7B,EAAiDC,OAAjD,CAAyD,aAAzD,MAA4E,CAAC,CAApF;AACD,G;;SAEDlG,K,GAAA,iBAAQ;AAAA;;AACN,QAAI,CAACmG,OAAO,CAACvI,GAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,2CAArB,CAAD,CAAZ,EAAiF;AAEjF,SAAKL,OAAL,GAAe,IAAf;AAEAG,OAAG,CACAwI,OADH,CACW;AACPC,SAAG,EAAEzI,GAAG,CAAC0I,KAAJ,CAAUzD,SAAV,CAAoB,QAApB,IAAgC,qBAD9B;AAEP0D,YAAM,EAAE;AAFD,KADX,EAKGpC,IALH,CAKQ;AAAA,aAAM,MAAI,CAAC5D,IAAL,EAAN;AAAA,KALR;AAMD,G;;;;;;;;;;;;;;;;;AChKH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;IAEQiG,K,GAAUC,kD,CAAVD,K;;IAEazC,iB;AACnB,6BAAYzG,KAAZ,EAAmB;AACjB,SAAKA,KAAL,GAAaA,KAAb;AACD;;;;SAEDoD,c,GAAA,0BAAiB;AAAA;;AACf,QAAMZ,KAAK,GAAG,IAAIC,4DAAJ,EAAd;AAEAD,SAAK,CAACH,GAAN,CACE,QADF,EAEE,EAAC,KAAD;AACE,UAAI,EAAC,eADP;AAEE,qBAAe,EAAC,kBAFlB;AAGE,eAAS,EAAC,aAHZ;AAIE,iBAAW,EAAE/B,GAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,+BAArB,CAJf;AAKE,WAAK,EAAE,KAAKR,KAAL,CAAWuG,KAAX,EALT;AAME,aAAO,EAAE,KAAK6C,MAAL,CAAYzG,IAAZ,CAAiB,IAAjB;AANX,MAFF;AAYAH,SAAK,CAACH,GAAN,CAAU,MAAV,EAAkB,EAAC,+DAAD;AAAQ,eAAS,EAAC,qBAAlB;AAAwC,UAAI,EAAC,iBAA7C;AAA+D,aAAO,EAAE;AAAA,eAAM/B,GAAG,CAACsC,KAAJ,CAAUC,IAAV,CAAemC,gEAAf,CAAN;AAAA;AAAxE,MAAlB;AAEAxC,SAAK,CAACH,GAAN,CACE,MADF,EAEE,EAAC,iEAAD;AAAU,qBAAe,EAAC,QAA1B;AAAmC,WAAK,EAAE/B,GAAG,CAACC,UAAJ,CAAeC,KAAf,kCAAoD,KAAKR,KAAL,CAAWmG,IAA/D;AAA1C,OACGjC,MAAM,CAACC,IAAP,CAAY,KAAKnE,KAAL,CAAWgG,cAAvB,EAAuCpF,GAAvC,CAA2C,UAACwD,GAAD,EAAS;AACnD,UAAMiF,MAAM,GAAG,KAAI,CAACrJ,KAAL,CAAWmG,IAAX,KAAoB/B,GAAnC;AAEA,aACE,EAAC,+DAAD;AAAQ,YAAI,EAAEiF,MAAM,GAAG,cAAH,GAAoB,IAAxC;AAA8C,eAAO,EAAE,KAAI,CAACC,UAAL,CAAgB3G,IAAhB,CAAqB,KAArB,EAA2ByB,GAA3B,CAAvD;AAAwF,cAAM,EAAEiF;AAAhG,SACG/I,GAAG,CAACC,UAAJ,CAAeC,KAAf,kCAAoD4D,GAApD,CADH,CADF;AAKD,KARA,CADH,CAFF;AAeA5B,SAAK,CAACH,GAAN,CAAU,YAAV,EAAwB,eAAM,KAAKrC,KAAL,CAAWqD,eAAX,EAAN,CAAxB;AAEAb,SAAK,CAACH,GAAN,CAAU,SAAV,EAAqB,EAAC,+DAAD;AAAQ,eAAS,EAAC,qBAAlB;AAAwC,UAAI,EAAC,aAA7C;AAA2D,aAAO,EAAE,KAAKrC,KAAL,CAAWiD,IAAX,CAAgBN,IAAhB,CAAqB,KAAK3C,KAA1B;AAApE,MAArB;AAEA,WAAOwC,KAAP;AACD,G;;SAED9B,O,GAAA,mBAAU;AACR,QAAM8B,KAAK,GAAG;AACZ+G,gBAAU,EAAE;AACV3D,kBAAU,EAAE,CAAC,QAAD,EAAW,UAAX,EAAuB,QAAvB,EAAiC,UAAjC,EAA6C,SAA7C,EAAwD,UAAxD,EAAoE,YAApE,EAAkF,QAAlF,EAA4F,SAA5F,CADF;AAEVG,YAAI,EAAE,CAAC,WAAD,EAAc,aAAd,EAA6B,WAA7B,CAFI;AAGVF,YAAI,EAAE,CAAC,UAAD;AAHI,OADA;AAMZ2D,oBAAc,EAAE;AACd1D,aAAK,EAAE,CAAC,SAAD,EAAY,SAAZ,CADO;AAEd2D,WAAG,EAAE,CAAC,SAAD,EAAY,SAAZ,CAFS;AAGdC,iBAAS,EAAE,CAAC,SAAD,EAAY,UAAZ,EAAwB,aAAxB,CAHG;AAIdC,kBAAU,EAAE,CAAC,QAAD;AAJE;AANJ,KAAd;AAcA,QAAMhJ,KAAK,GAAG;AACZI,mBAAa,EAAE;AACb6E,kBAAU,EAAE,iBADC;AAEbG,YAAI,EAAE,aAFO;AAGbF,YAAI,EAAE,cAHO;AAIb6D,iBAAS,EAAE,qBAJE;AAKb5D,aAAK,EAAE,qBALM;AAMb2D,WAAG,EAAE,YANQ;AAObE,kBAAU,EAAE;AAPC,OADH;AAUZrI,iBAAW,EAAE;AACXsI,cAAM,EAAE,aADG;AAEXC,gBAAQ,EAAE,eAFC;AAGXC,eAAO,EAAE,cAHE;AAIXC,gBAAQ,EAAE,kBAJC;AAKXC,kBAAU,EAAE,kBALD;AAMXC,iBAAS,EAAE,YANA;AAOXC,mBAAW,EAAE,cAPF;AAQXC,gBAAQ,EAAE,cARC;AASXC,eAAO,EAAE,aATE;AAUXC,eAAO,EAAE,cAVE;AAWXC,gBAAQ,EAAE,YAXC;AAYXC,mBAAW,EAAE,cAZF;AAaXC,cAAM,EAAE,YAbG;AAcXC,eAAO,EAAE,mBAdE;AAeXC,cAAM,EAAE,kBAfG;AAgBXC,gBAAQ,EAAE,cAhBC;AAiBXC,iBAAS,EAAE,aAjBA;AAkBXC,cAAM,EAAE;AAlBG;AAVD,KAAd;AAgCA,WAAO;AAAErI,WAAK,EAALA,KAAF;AAAS7B,WAAK,EAALA;AAAT,KAAP;AACD,G;;SAED2I,U,GAAA,oBAAWnD,IAAX,EAAiB;AACf,SAAKnG,KAAL,CAAWiD,IAAX,CAAgB;AAAEkD,UAAI,EAAJA;AAAF,KAAhB;AACD,G;;SAEDiD,M,GAAA,gBAAO0B,CAAP,EAAU;AAAA;;AACR,SAAK9K,KAAL,CAAWuG,KAAX,CAAiBuE,CAAC,CAACC,MAAF,CAAStG,KAA1B;AAEA,SAAKzE,KAAL,CAAWG,OAAX,GAAqB,IAArB;;AACA,SAAK6K,SAAL,GAAiB;AAAA,aAAM,MAAI,CAAChL,KAAL,CAAWiD,IAAX,CAAgB;AAAEsD,aAAK,EAAE,MAAI,CAACvG,KAAL,CAAWuG,KAAX;AAAT,OAAhB,CAAN;AAAA,KAAjB;;AAEA,QAAI,KAAK0E,aAAT,EAAwBC,YAAY,CAAC,KAAKD,aAAN,CAAZ;AAExB,SAAKA,aAAL,GAAqBE,UAAU,CAAC,KAAKH,SAAN,EAAiB,GAAjB,CAA/B;AACD,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnHH;AACA;AACA;AACA;AAEA;;;;;IAIqBzC,S;AAGnB;;;AAGA,qBAAY1H,KAAZ,EAAmB;AACjB,SAAKA,KAAL,GAAaA,KAAb;AACA,SAAKuK,OAAL,uCAAiDvK,KAAK,CAACc,IAAN,EAAjD;AACD;AAED;;;;;;;SAGA6G,M,GAAA,kBAAS;AACP,QAAI,KAAK3H,KAAL,CAAWG,YAAX,GAA0BX,MAA9B,EAAsC;AACpC,WAAK+K,OAAL,UAAoB,KAAKvK,KAAL,CAAWG,YAAX,EAApB;AACD;;AAED,SAAKoK,OAAL,UAAoB,KAAKvK,KAAL,CAAWI,IAAX,EAApB;AAEA,QAAMoK,aAAa,GAAG,KAAKxK,KAAL,CAAWG,YAAX,KAA4B,KAAKH,KAAL,CAAWI,IAAX,GAAkBqK,MAAlB,CAAyB,CAAzB,EAA4BC,WAA5B,EAA5B,GAAwE,KAAK1K,KAAL,CAAWI,IAAX,GAAkBuK,KAAlB,CAAwB,CAAxB,CAA9F;AAEA,QAAI,KAAKH,aAAL,CAAJ,EAAyB,OAAO,KAAKA,aAAL,GAAP;AAEzB,WAAO,KAAKI,cAAL,EAAP;AACD;AAED;;;;;SAGAA,c,GAAA,0BAAiB;AAAA;;AACf,QAAI9F,MAAM,GAAG,KAAK9E,KAAL,CAAW8E,MAAX,EAAb,CADe,CAGf;;AACAzB,UAAM,CAACC,IAAP,CAAYwB,MAAZ,EAAoB/E,GAApB,CAAwB,UAACwD,GAAD,EAAMkE,KAAN,EAAgB;AACtC,UAAI,OAAO3C,MAAM,CAACvB,GAAD,CAAb,KAAuB,QAA3B,EAAqC;AAErC,UAAIzC,IAAI,GAAGgE,MAAM,CAACvB,GAAD,CAAN,CAAYzC,IAAZ,IAAoByC,GAA/B;AAEA,UAAI,CAAC,KAAI,CAACzC,IAAD,CAAT,EAAiBA,IAAI,GAAG,mBAAP,CALqB,CAOtC;AACA;AACA;;AACAgE,YAAM,CAACvB,GAAG,KAAK,MAAR,GAAiB,GAAjB,GAAuBA,GAAxB,CAAN,GAAqC,KAAI,CAACzC,IAAD,CAAJ,CAAW,KAAI,CAACd,KAAL,CAAW8E,MAAX,GAAoBvB,GAApB,KAA4B,EAAvC,EAA2CA,GAA3C,CAArC;AAEA,UAAIA,GAAG,KAAK,MAAZ,EAAoB,OAAOuB,MAAM,CAACI,IAAd;AACrB,KAbD;AAeA7B,UAAM,CAACC,IAAP,CAAYwB,MAAZ,EAAoB/E,GAApB,CAAwB,UAACwD,GAAD,EAAMkE,KAAN,EAAgB;AACtC3C,YAAM,CAACvB,GAAD,CAAN,GAAc,kBAASuB,MAAM,CAACvB,GAAD,CAAf,CAAd;AACD,KAFD;AAIA,WAAO9D,GAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,KAAK4K,OAA1B,EAAmCzF,MAAnC,CAAP;AACD;AAED;;;;;;;;;SAOA+F,iB,GAAA,2BAAkB/F,MAAlB,EAA0BvB,GAA1B,EAA+B;AAAA;;AAC7B,QAAI,OAAOuB,MAAM,CAACnD,KAAd,KAAwB,WAAxB,IAAuCmD,MAAM,CAACnD,KAAP,CAAanC,MAAxD,EAAgE;AAC9D,aAAOsF,MAAM,CAACnD,KAAP,CAAa5B,GAAb,CAAiB,UAACkE,IAAD;AAAA,eAAU,MAAI,CAAC4G,iBAAL,CAAuB5G,IAAvB,EAA6Ba,MAAM,CAAChE,IAApC,CAAV;AAAA,OAAjB,CAAP;AACD;;AAED,QAAIV,IAAI,GAAG0E,MAAM,CAAC3B,KAAP,IAAgB,EAA3B;;AAEA,QAAI2B,MAAM,CAACL,EAAX,EAAe;AACbK,YAAM,CAACgG,OAAP,SAAqBhG,MAAM,CAACL,EAA5B;AACD;;AAED,QAAIK,MAAM,CAACgG,OAAX,EAAoB;AAClB1K,UAAI,GAAG,CAACA,IAAD,EAAO,mBAAM0E,MAAM,CAACgG,OAAb,MAAP,CAAP;AACD;;AAED,QAAIhG,MAAM,CAAC7E,IAAX,EAAiB;AACfG,UAAI,GAAG,CACL;AAAM,iBAAS,EAAC,8BAAhB;AAA+C,aAAK,EAAE0E,MAAM,CAAC7E;AAA7D,SACGA,0DAAI,CAAC6E,MAAM,CAAC7E,IAAP,CAAYG,IAAb,CADP,CADK,EAILA,IAJK,CAAP;AAMD;;AAED,QAAI0E,MAAM,CAACiG,IAAX,EAAiB;AACf3K,UAAI,GAAG;AAAG,YAAI,EAAE0E,MAAM,CAACiG;AAAhB,SAAuB3K,IAAvB,CAAP;AACD;;AAED,WAAOA,IAAP;AACD;AAED;;;;;SAGA4K,gB,GAAA,4BAAmB;AACjB,QAAMlG,MAAM,GAAG,KAAK9E,KAAL,CAAW8E,MAAX,EAAf;AAEA,QAAIzB,MAAM,CAACC,IAAP,CAAYwB,MAAM,CAACmG,IAAP,CAAYtJ,KAAxB,EAA+BnC,MAA/B,IAAyC6D,MAAM,CAACC,IAAP,CAAYwB,MAAM,CAACoG,OAAP,CAAevJ,KAA3B,EAAkCnC,MAA/E,EAAuF,KAAK+K,OAAL,IAAgB,aAAhB,CAAvF,KACK,IAAIlH,MAAM,CAACC,IAAP,CAAYwB,MAAM,CAACmG,IAAP,CAAYtJ,KAAxB,EAA+BnC,MAAnC,EAA2C,KAAK+K,OAAL,IAAgB,MAAhB,CAA3C,KACA,KAAKA,OAAL,IAAgB,SAAhB;;AAEL,QAAMY,kBAAkB,GAAG,SAArBA,kBAAqB,CAACF,IAAD;AAAA,aACzBxL,GAAG,CAACC,UAAJ,CAAe0L,WAAf,CAA2B1D,SAAS,CAAC2D,QAArC,EAA+ChI,MAAM,CAACC,IAAP,CAAY2H,IAAZ,EAAkBzL,MAAjE,EAAyE;AACvEyL,YAAI,EAAEK,oEAAS,CACbjI,MAAM,CAACC,IAAP,CAAY2H,IAAZ,EAAkBlL,GAAlB,CAAsB,UAACwD,GAAD,EAAS;AAC7B,iBAAO,IAAIgI,6DAAJ,CAAQ;AAAEC,sBAAU,EAAEP,IAAI,CAAC1H,GAAD;AAAlB,WAAR,CAAP;AACD,SAFD,CADa;AADwD,OAAzE,CADyB;AAAA,KAA3B;;AASAuB,UAAM,CAACmG,IAAP,GAAcE,kBAAkB,CAACrG,MAAM,CAACmG,IAAP,CAAYtJ,KAAb,CAAhC;AACAmD,UAAM,CAACoG,OAAP,GAAiBC,kBAAkB,CAACrG,MAAM,CAACoG,OAAP,CAAevJ,KAAhB,CAAnC;AACAmD,UAAM,CAACC,UAAP,GAAoB,kBAAS,KAAK8F,iBAAL,CAAuB/F,MAAM,CAACC,UAA9B,EAA0C,YAA1C,CAAT,CAApB;AAEA,WAAOtF,GAAG,CAACC,UAAJ,CAAeC,KAAf,CAAqB,KAAK4K,OAA1B,EAAmCzF,MAAnC,CAAP;AACD;AAED;;;;;;SAIA8D,G,GAAA,aAAI9D,MAAJ,EAAYvB,GAAZ,EAAiB;AACf,WAAO+H,oEAAS,CAAC,CAAC,IAAIC,6DAAJ,CAAQ;AAAEC,gBAAU,EAAE1G;AAAd,KAAR,CAAD,CAAD,CAAhB;AACD;AAED;;;;;;SAIA2G,M,GAAA,gBAAO3G,MAAP,EAAe;AACb,WAAOA,MAAM,CAACnD,KAAP,CAAa5B,GAAb,CAAiB,UAACkF,KAAD;AAAA,aACtB;AACE,iBAAS,EAAC,8BADZ;AAEE,aAAK,EAAEA,KAAK,CAAC7E,IAFf;AAGE,gBAAQ,EAAE,kBAAClB,KAAD;AAAA,iBAAWmB,CAAC,CAACnB,KAAK,CAACoB,GAAP,CAAD,CAAaC,OAAb,CAAqB;AAAEC,qBAAS,EAAE;AAAb,WAArB,CAAX;AAAA,SAHZ;AAIE,aAAK,EAAE;AAAEkL,yBAAe,EAAEzG,KAAK,CAAChF,IAAN,CAAWyL;AAA9B;AAJT,SAMGzL,0DAAI,CAACgF,KAAK,CAAChF,IAAN,CAAWG,IAAZ,CANP,CADsB;AAAA,KAAjB,CAAP;AAUD;AAED;;;;;;SAIA0I,U,GAAA,oBAAWhE,MAAX,EAAmB;AACjB,WAAO,gBAAOA,MAAM,CAAC3B,KAAd,CAAP;AACD,G;;;;;0FAxJkBuE,S,cACD,8E;;;;;;;;;;;;;ACVpB,kD;;;;;;;;;;;ACAA,iD;;;;;;;;;;;ACAA,6C;;;;;;;;;;;ACAA,sE;;;;;;;;;;;ACAA,2C;;;;;;;;;;;ACAA,wD;;;;;;;;;;;ACAA,gE;;;;;;;;;;;ACAA,gE;;;;;;;;;;;ACAA,6D;;;;;;;;;;;ACAA,2D;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,2D;;;;;;;;;;;ACAA,mE;;;;;;;;;;;ACAA,wD;;;;;;;;;;;ACAA,8D;;;;;;;;;;;ACAA,gE;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,sD;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,oD;;;;;;;;;;;ACAA,wD;;;;;;;;;;;ACAA,8D;;;;;;;;;;;ACAA,uD;;;;;;;;;;;ACAA,sD;;;;;;;;;;;ACAA,mD","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./admin.js\");\n","export * from './src/admin'\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import Component from 'flarum/Component';\nimport Placeholder from 'flarum/components/Placeholder';\nimport LoadingIndicator from 'flarum/components/LoadingIndicator';\nimport humanTime from 'flarum/helpers/humanTime';\nimport avatar from 'flarum/helpers/avatar';\nimport username from 'flarum/helpers/username';\nimport icon from 'flarum/helpers/icon';\n\nexport default class ActionLogEntryList extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.state = this.attrs.state;\n  }\n\n  view() {\n    if (this.state.loading) {\n      return <LoadingIndicator className=\"LoadingIndicator--block\" />;\n    }\n\n    if (!this.state.entries.length) {\n      return <Placeholder text={app.translator.trans('sycho-action-log.admin.no_entries')} />;\n    }\n\n    const { icons } = this.state.controls.actions();\n\n    return (\n      <div className=\"ActionLogGrid\">\n        {this.state.entries.map((entry) => (\n          <div className=\"ActionLogGrid-item\">\n            <div className=\"ActionLogGrid-itemIcon\">\n              <div className=\"ActionLogGrid-itemIconMain\">\n                {icon(icons.resourceTypes[entry.resourceType()])}\n                <span\n                  className=\"ActionLogGrid-itemIconSecondary Badge\"\n                  title={entry.name()}\n                  oncreate={(vnode) => $(vnode.dom).tooltip({ placement: 'bottom' })}\n                >\n                  {icon(icons.actionNames[entry.name()])}\n                </span>\n              </div>\n            </div>\n            <div className=\"ActionLogGrid-Avatar\">{avatar(entry.actor())}</div>\n            <div className=\"ActionLogGrid-itemContent\">\n              <div className=\"ActionLogGrid-entryActor\">{username(entry.actor())}</div>\n              <div className=\"ActionLogGrid-entryName\">{entry.formattedName}</div>\n              <div className=\"ActionLogGrid-entryDetails\">\n                <div className=\"ActionLogGrid-entryType\">{entry.type()}</div>\n                <div className=\"ActionLogGrid-entryTime\">\n                  {icon('far fa-clock')} {humanTime(entry.createdAt())}\n                </div>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n","import ExtensionPage from 'flarum/admin/components/ExtensionPage';\nimport ActionLogSection from './ActionLogSection';\nimport ActionLogSettingsModal from '../modals/ActionLogSettingsModal';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Button from 'flarum/common/components/Button';\nimport ActionLogSectionState from '../states/ActionLogSectionState';\n\nexport default class ActionLogPage extends ExtensionPage {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.actionLogSectionState = new ActionLogSectionState();\n  }\n\n  sections() {\n    const sections = super.sections();\n\n    sections.replace('content', this.content(), 2);\n    sections.add('actionLogList', <ActionLogSection state={this.actionLogSectionState} />, 1);\n\n    return sections;\n  }\n\n  content() {\n    return (\n      <div className=\"ExtensionPage-settings\">\n        <div className=\"container ActionLogPage-mainControls\">{this.mainControls().toArray()}</div>\n      </div>\n    );\n  }\n\n  mainControls() {\n    const items = new ItemList();\n\n    items.add(\n      'clear',\n      <Button className=\"Button Button--primary\" icon=\"fas fa-trash\" onclick={this.actionLogSectionState.clear.bind(this.actionLogSectionState)}>\n        {app.translator.trans('sycho-action-log.admin.clear')}\n      </Button>\n    );\n\n    items.add(\n      'settings',\n      <Button\n        className=\"Button\"\n        icon=\"fas fa-cogs\"\n        onclick={() => app.modal.show(ActionLogSettingsModal, { actions: this.actionLogSectionState.controls.actions() })}\n      >\n        {app.translator.trans('sycho-action-log.admin.settings')}\n      </Button>\n    );\n\n    return items;\n  }\n}\n","import Component from 'flarum/common/Component';\nimport ActionLogEntryList from './ActionLogEntryList';\n\nexport default class ActionLogSection extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.state = this.attrs.state;\n    this.state.load();\n  }\n\n  view() {\n    return (\n      <div className=\"ActionLogListSection\">\n        <div className=\"ExtensionPage-permissions-header\">\n          <div className=\"container\">\n            <h2 className=\"ExtensionTitle\">{app.translator.trans('sycho-action-log.admin.total_entries', { count: this.state.total || '0' })}</h2>\n          </div>\n        </div>\n\n        <div className=\"ActionLogListSection-content\">\n          <div className=\"container\">\n            <div className=\"ActionLogListSection-navigation\">{this.state.controls.filterControls(this).toArray()}</div>\n            <ActionLogEntryList state={this.state} />\n            <div className=\"ActionLogListSection-navigation\">{this.state.buildPagination()}</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import app from 'flarum/app';\nimport ActionLogEntry from './models/ActionLogEntry';\nimport ActionLogPage from './components/ActionLogPage';\n\napp.initializers.add(\n  'sycho-action-log',\n  (app) => {\n    app.store.models['action-log-entries'] = ActionLogEntry;\n\n    app.extensionData.for('sycho-action-log').registerPage(ActionLogPage);\n  },\n  -90\n);\n","import SettingsModal from 'flarum/components/SettingsModal';\nimport Switch from 'flarum/components/Switch';\nimport Button from 'flarum/components/Button';\nimport icon from 'flarum/helpers/icon';\n\nexport default class ActionLogSettingsModal extends SettingsModal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.excludedLoggingSetting = this.setting('sycho-action-log.excluded_logging', JSON.stringify([]));\n  }\n\n  title() {\n    return app.translator.trans('sycho-action-log.admin.settings');\n  }\n\n  form() {\n    const actions = this.attrs.actions.items;\n    const icons = this.attrs.actions.icons;\n\n    return [\n      <p>{app.translator.trans('sycho-action-log.admin.action_settings')}</p>,\n      Object.keys(actions).map((key) => (\n        <div className=\"ActionLogSettings-logTypes\">\n          <h3>\n            <span>{app.translator.trans(`sycho-action-log.admin.actions.${key}.label`)}</span>\n          </h3>\n          {Object.keys(actions[key]).map((resourceType) => (\n            <div className=\"ActionLogSettings-resourceTypes\">\n              <h4>\n                {app.translator.trans(`sycho-action-log.admin.actions.${key}.${resourceType}.label`)}\n                <span className=\"ActionLog-titleIcon\">{icon(icons.resourceTypes[resourceType])}</span>\n              </h4>\n              {actions[key][resourceType].map((action) => (\n                <div className=\"Form-group\">\n                  <Switch\n                    state={!this.getExcludedLoggingValue().includes(`${key}.${resourceType}.${action}`)}\n                    onchange={this.switch.bind(this, key, resourceType, action)}\n                  >\n                    {app.translator.trans(`sycho-action-log.admin.actions.${key}.${resourceType}.${action}.label`)}\n                    <span className=\"ActionLog-titleIcon\">{icon(icons.actionNames[action])}</span>\n                  </Switch>\n                </div>\n              ))}\n            </div>\n          ))}\n        </div>\n      )),\n    ];\n  }\n\n  getExcludedLoggingValue() {\n    return JSON.parse(this.excludedLoggingSetting());\n  }\n\n  switch(key, resourceType, action, value) {\n    const actionName = `${key}.${resourceType}.${action}`;\n    let excludedLogging = this.getExcludedLoggingValue();\n\n    if (!value) excludedLogging.push(actionName);\n    else excludedLogging = excludedLogging.filter((item) => item !== actionName);\n\n    this.excludedLoggingSetting(JSON.stringify(excludedLogging));\n  }\n}\n","import Modal from 'flarum/components/Modal';\n\nexport default class FiltersHelpModal extends Modal {\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        {app.translator.trans('sycho-action-log.admin.gambits.description')}\n        <ul>\n          {this.gambits().map((gambit) => (\n            <li>\n              <strong>{gambit}:</strong> {app.translator.trans(`sycho-action-log.admin.gambits.items.${gambit}`)}\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n\n  title() {\n    return app.translator.trans('sycho-action-log.admin.gambits.label');\n  }\n\n  gambits() {\n    return ['type', 'action', 'resource', 'actor'];\n  }\n}\n","import Model from 'flarum/Model';\nimport mixin from 'flarum/utils/mixin';\n\nexport default class ActionLogEntry extends mixin(Model, {\n  id: Model.attribute('id'),\n  name: Model.attribute('name'),\n  type: Model.attribute('type'),\n  actor: Model.hasOne('actor'),\n  resourceType: Model.attribute('resource_type'),\n  resourceId: Model.attribute('resource_id'),\n  createdAt: Model.attribute('created_at', Model.transformDate),\n  format: Model.attribute('format'),\n\n  discussion: Model.hasOne('discussion'),\n  post: Model.hasOne('post'),\n  group: Model.hasOne('group'),\n  user: Model.hasOne('user'),\n}) {}\n","import Button from 'flarum/common/components/Button';\nimport Select from 'flarum/common/components/Select';\nimport Stream from 'flarum/common/utils/Stream';\nimport ActionLogControls from '../utils/ActionLogControls';\nimport Formatter from '../utils/Formatter';\n\nexport default class ActionLogSectionState {\n  constructor() {\n    this.entries = [];\n\n    this.sortingOptions = {\n      newest: '-createdAt',\n      oldest: 'createdAt',\n    };\n\n    this.sort = 'newest';\n\n    this.offset = 0;\n\n    this.limit = 20;\n\n    this.total = 0;\n\n    this.count = 0;\n\n    this.page = 0;\n\n    this.query = Stream('');\n\n    this.controls = new ActionLogControls(this);\n  }\n\n  /**\n   * Loads the log entries\n   */\n  load(params) {\n    this.loading = true;\n\n    app.store\n      .find('action-log-entries', this.requestParams(params || {}))\n      .then(this.handleResponse.bind(this))\n      .then(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n\n  requestParams({ offset, query, sort }) {\n    if (typeof offset !== 'undefined') {\n      this.offset = offset;\n    }\n\n    if (typeof sort !== 'undefined') {\n      this.sort = sort;\n    }\n\n    return {\n      page: {\n        offset: this.offset,\n        limit: this.limit,\n      },\n      filter: {\n        q: query,\n      },\n      sort: this.sortingOptions[this.sort],\n    };\n  }\n\n  handleResponse(response) {\n    this.entries = response;\n    this.total = response.payload.meta.total || 0;\n    this.count = response.payload.meta.count || 0;\n    this.links = response.payload.links;\n    this.page = Math.ceil(this.offset / this.limit);\n\n    this.entries = this.entries.filter((entry) => {\n      return !(!this.isTagsEnabled() && (entry.resourceType() === 'tag' || entry.name() === 'tagged'));\n    });\n\n    this.entries.map((entry) => {\n      entry.formattedName = this.formatName(entry);\n    });\n\n    return response;\n  }\n\n  buildPagination() {\n    if (this.count <= this.limit) return <div className=\"ActionLogListSection-pagination\"></div>;\n\n    return (\n      <div className=\"ActionLogListSection-pagination\">\n        <Button className=\"Button Button--icon\" icon=\"fas fa-arrow-left\" onclick={this.prev.bind(this)} disabled={!this.hasPrev()} />\n        <Select value={this.page} options={this.getPages()} onchange={this.changePage.bind(this)} />\n        <Button className=\"Button Button--icon\" icon=\"fas fa-arrow-right\" onclick={this.next.bind(this)} disabled={!this.hasNext()} />\n      </div>\n    );\n  }\n\n  next() {\n    if (!this.hasNext()) return;\n\n    this.load({ offset: this.offset + this.limit });\n  }\n\n  prev() {\n    if (!this.hasPrev()) return;\n\n    this.load({ offset: this.offset - this.limit });\n  }\n\n  hasNext() {\n    return this.offset + this.limit < this.count;\n  }\n\n  hasPrev() {\n    return this.links.prev;\n  }\n\n  getPages() {\n    let pageRange = Array.from({ length: Math.ceil(this.count / this.limit) }, (v, k) => k + 1);\n\n    pageRange.map((number, index) => {\n      pageRange[index] = app.translator.trans('sycho-action-log.admin.page', { number });\n    });\n\n    return pageRange;\n  }\n\n  changePage(value) {\n    if (!Object.keys(this.getPages()).includes(value)) return;\n\n    this.load({ offset: value * this.limit });\n  }\n\n  /**\n   * @param entry\n   * @returns {string}\n   */\n  formatName(entry) {\n    return new Formatter(entry).handle();\n  }\n\n  /**\n   * @return {boolean}\n   */\n  isTagsEnabled() {\n    return JSON.parse(app.data.settings.extensions_enabled).indexOf('flarum-tags') !== -1;\n  }\n\n  clear() {\n    if (!confirm(app.translator.trans('sycho-action-log.admin.clear_confirmation'))) return;\n\n    this.loading = true;\n\n    app\n      .request({\n        url: app.forum.attribute('apiUrl') + '/action-log-entries',\n        method: 'DELETE',\n      })\n      .then(() => this.load());\n  }\n}\n","import ItemList from 'flarum/utils/ItemList';\nimport Button from 'flarum/components/Button';\nimport Dropdown from 'flarum/components/Dropdown';\nimport FiltersHelpModal from '../modals/FiltersHelpModal';\nimport { uikit } from '@sycho-uikit';\n\nconst { Input } = uikit;\n\nexport default class ActionLogControls {\n  constructor(state) {\n    this.state = state;\n  }\n\n  filterControls() {\n    const items = new ItemList();\n\n    items.add(\n      'search',\n      <Input\n        icon=\"fas fa-filter\"\n        parentClassName=\"ActionLog-search\"\n        className=\"FormControl\"\n        placeholder={app.translator.trans('sycho-action-log.admin.search')}\n        value={this.state.query()}\n        oninput={this.search.bind(this)}\n      />\n    );\n\n    items.add('help', <Button className=\"Button Button--icon\" icon=\"fas fa-question\" onclick={() => app.modal.show(FiltersHelpModal)} />);\n\n    items.add(\n      'sort',\n      <Dropdown buttonClassName=\"Button\" label={app.translator.trans(`sycho-action-log.admin.sort.${this.state.sort}`)}>\n        {Object.keys(this.state.sortingOptions).map((key) => {\n          const active = this.state.sort === key;\n\n          return (\n            <Button icon={active ? 'fas fa-check' : true} onclick={this.updateSort.bind(this, key)} active={active}>\n              {app.translator.trans(`sycho-action-log.admin.sort.${key}`)}\n            </Button>\n          );\n        })}\n      </Dropdown>\n    );\n\n    items.add('pagination', <div>{this.state.buildPagination()}</div>);\n\n    items.add('refresh', <Button className=\"Button Button--icon\" icon=\"fas fa-sync\" onclick={this.state.load.bind(this.state)} />);\n\n    return items;\n  }\n\n  actions() {\n    const items = {\n      moderation: {\n        discussion: ['locked', 'unlocked', 'hidden', 'restored', 'deleted', 'stickied', 'unstickied', 'tagged', 'renamed'],\n        user: ['suspended', 'unsuspended', 'activated'],\n        post: ['approved'],\n      },\n      administration: {\n        group: ['created', 'deleted'],\n        tag: ['created', 'deleted'],\n        extension: ['enabled', 'disabled', 'uninstalled'],\n        permission: ['edited'],\n      },\n    };\n\n    const icons = {\n      resourceTypes: {\n        discussion: 'fas fa-comments',\n        user: 'fas fa-user',\n        post: 'fas fa-reply',\n        extension: 'fas fa-puzzle-piece',\n        group: 'fas fa-user-friends',\n        tag: 'fas fa-tag',\n        permission: 'fas fa-key',\n      },\n      actionNames: {\n        locked: 'fas fa-lock',\n        unlocked: 'fas fa-unlock',\n        deleted: 'fas fa-trash',\n        stickied: 'fas fa-thumbtack',\n        unstickied: 'fas fa-thumbtack',\n        suspended: 'fas fa-ban',\n        unsuspended: 'fas fa-check',\n        approved: 'fas fa-check',\n        created: 'fas fa-plus',\n        enabled: 'fas fa-check',\n        disabled: 'fas fa-ban',\n        uninstalled: 'fas fa-times',\n        tagged: 'fas fa-tag',\n        renamed: 'fas fa-pencil-alt',\n        hidden: 'fas fa-eye-slash',\n        restored: 'fas fa-reply',\n        activated: 'fas fa-bolt',\n        edited: 'fas fa-cog',\n      },\n    };\n\n    return { items, icons };\n  }\n\n  updateSort(sort) {\n    this.state.load({ sort });\n  }\n\n  search(e) {\n    this.state.query(e.target.value);\n\n    this.state.loading = true;\n    this.searching = () => this.state.load({ query: this.state.query() });\n\n    if (this.searchTimeout) clearTimeout(this.searchTimeout);\n\n    this.searchTimeout = setTimeout(this.searching, 250);\n  }\n}\n","import ActionLogEntry from '../models/ActionLogEntry';\nimport tagsLabel from 'flarum/tags/helpers/tagsLabel';\nimport Tag from 'flarum/tags/models/Tag';\nimport icon from 'flarum/helpers/icon';\n\n/**\n * Finds the appropriate language string\n * and builds the name of the action taken\n */\nexport default class Formatter {\n  static tagsText = 'sycho-action-log.admin.actions.moderation.discussion.tagged.action.tags_text';\n\n  /**\n   * @param entry {ActionLogEntry}\n   */\n  constructor(entry) {\n    this.entry = entry;\n    this.langKey = `sycho-action-log.admin.actions.${entry.type()}`;\n  }\n\n  /**\n   * @returns {string}\n   */\n  handle() {\n    if (this.entry.resourceType().length) {\n      this.langKey += `.${this.entry.resourceType()}`;\n    }\n\n    this.langKey += `.${this.entry.name()}.action`;\n\n    const uniqueHandler = this.entry.resourceType() + this.entry.name().charAt(0).toUpperCase() + this.entry.name().slice(1);\n\n    if (this[uniqueHandler]) return this[uniqueHandler]();\n\n    return this.genericHandler();\n  }\n\n  /**\n   * @returns {string}\n   */\n  genericHandler() {\n    let format = this.entry.format();\n\n    // If there are any objects, convert them to strings using the buildResourceName() method\n    Object.keys(format).map((key, index) => {\n      if (typeof format[key] !== 'object') return;\n\n      let type = format[key].type || key;\n\n      if (!this[type]) type = 'guessResourceName';\n\n      // The core code tries to get the displayName attribute when the\n      // translation parameter key is named 'user', even if the value is a string\n      // so we have no choice but to add some ugly hackish code here\n      format[key === 'user' ? 'u' : key] = this[type](this.entry.format()[key] || {}, key);\n\n      if (key === 'user') delete format.user;\n    });\n\n    Object.keys(format).map((key, index) => {\n      format[key] = <strong>{format[key]}</strong>;\n    });\n\n    return app.translator.trans(this.langKey, format);\n  }\n\n  /**\n   * Tries to build JSX representing the resource\n   *\n   * @param format {object}\n   * @param key {number}\n   * @returns {string || string[]}\n   */\n  guessResourceName(format, key) {\n    if (typeof format.items !== 'undefined' && format.items.length) {\n      return format.items.map((item) => this.guessResourceName(item, format.type));\n    }\n\n    let name = format.title || '';\n\n    if (format.id) {\n      format.version = `#${format.id}`;\n    }\n\n    if (format.version) {\n      name = [name, <i> ({format.version})</i>];\n    }\n\n    if (format.icon) {\n      name = [\n        <span className=\"Badge ActionLogExtensionIcon\" style={format.icon}>\n          {icon(format.icon.name)}\n        </span>,\n        name,\n      ];\n    }\n\n    if (format.link) {\n      name = <a href={format.link}>{name}</a>;\n    }\n\n    return name;\n  }\n\n  /**\n   * Special handler for discussion tagging actions\n   */\n  discussionTagged() {\n    const format = this.entry.format();\n\n    if (Object.keys(format.tags.items).length && Object.keys(format.oldTags.items).length) this.langKey += '.add_remove';\n    else if (Object.keys(format.tags.items).length) this.langKey += '.add';\n    else this.langKey += '.remove';\n\n    const tagTextConstructor = (tags) =>\n      app.translator.transChoice(Formatter.tagsText, Object.keys(tags).length, {\n        tags: tagsLabel(\n          Object.keys(tags).map((key) => {\n            return new Tag({ attributes: tags[key] });\n          })\n        ),\n      });\n\n    format.tags = tagTextConstructor(format.tags.items);\n    format.oldTags = tagTextConstructor(format.oldTags.items);\n    format.discussion = <strong>{this.guessResourceName(format.discussion, 'discussion')}</strong>;\n\n    return app.translator.trans(this.langKey, format);\n  }\n\n  /**\n   * @param format\n   * @param key\n   */\n  tag(format, key) {\n    return tagsLabel([new Tag({ attributes: format })]);\n  }\n\n  /**\n   * @param format {object}\n   * @returns {*}\n   */\n  groups(format) {\n    return format.items.map((group) => (\n      <span\n        className=\"Badge ActionLogExtensionIcon\"\n        title={group.name}\n        oncreate={(vnode) => $(vnode.dom).tooltip({ placement: 'top' })}\n        style={{ backgroundColor: group.icon.backgroundColor }}\n      >\n        {icon(group.icon.name)}\n      </span>\n    ));\n  }\n\n  /**\n   * @param format {object}\n   * @returns {*}\n   */\n  permission(format) {\n    return <code>{format.title}</code>;\n  }\n}\n","module.exports = flarum.extensions['sycho-uikit'];","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['admin/components/ExtensionPage'];","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['common/Component'];","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/Select'];","module.exports = flarum.core.compat['common/utils/ItemList'];","module.exports = flarum.core.compat['common/utils/Stream'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/Dropdown'];","module.exports = flarum.core.compat['components/LoadingIndicator'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/Placeholder'];","module.exports = flarum.core.compat['components/SettingsModal'];","module.exports = flarum.core.compat['components/Switch'];","module.exports = flarum.core.compat['helpers/avatar'];","module.exports = flarum.core.compat['helpers/humanTime'];","module.exports = flarum.core.compat['helpers/icon'];","module.exports = flarum.core.compat['helpers/username'];","module.exports = flarum.core.compat['tags/helpers/tagsLabel'];","module.exports = flarum.core.compat['tags/models/Tag'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['utils/mixin'];"],"sourceRoot":""}