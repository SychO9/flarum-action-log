{"version":3,"sources":["webpack://@sycho/flarum-action-log/webpack/bootstrap","webpack://@sycho/flarum-action-log/./admin.js","webpack://@sycho/flarum-action-log/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@sycho/flarum-action-log/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@sycho/flarum-action-log/./src/admin/addActionLogPane.js","webpack://@sycho/flarum-action-log/./src/admin/compat.js","webpack://@sycho/flarum-action-log/./src/admin/components/ActionLogPage.js","webpack://@sycho/flarum-action-log/./src/admin/components/Input.js","webpack://@sycho/flarum-action-log/./src/admin/index.js","webpack://@sycho/flarum-action-log/./src/admin/modals/ActionLogSettingsModal.js","webpack://@sycho/flarum-action-log/./src/admin/modals/FiltersHelpModal.js","webpack://@sycho/flarum-action-log/./src/admin/models/ActionLogEntry.js","webpack://@sycho/flarum-action-log/./src/admin/utils/ActionLogControls.js","webpack://@sycho/flarum-action-log/external \"flarum.core\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['Component']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['Model']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['app']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/AdminLinkButton']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/AdminNav']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/Button']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/Dropdown']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/Modal']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/Page']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/Placeholder']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/Select']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/SettingsModal']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['components/Switch']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['extend']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['helpers/avatar']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['helpers/humanTime']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['helpers/icon']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['helpers/username']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['utils/ItemList']\"","webpack://@sycho/flarum-action-log/external \"flarum.core.compat['utils/mixin']\""],"names":["app","routes","path","component","ActionLogPage","extensionSettings","m","route","extend","AdminNav","prototype","items","add","AdminLinkButton","href","icon","children","translator","trans","description","Input","ActionLogSettingsModal","FiltersHelpModal","ActionLogEntry","ActionLogControls","init","entries","sortingOptions","newest","oldest","sort","offset","limit","total","count","page","query","prop","controls","load","view","actions","icons","mainControls","toArray","filterControls","loading","length","map","entry","avatar","actor","username","type","humanTime","createdAt","formattedName","resourceTypes","resourceType","actionNames","name","buildPagination","showActor","params","store","find","requestParams","then","handleResponse","bind","redraw","filter","q","response","payload","meta","links","Math","ceil","formatName","prev","hasPrev","getPages","changePage","next","hasNext","pageRange","Array","from","v","k","number","index","value","Object","keys","includes","key","format","buildResourceName","user","title","id","version","link","Page","props","className","parentClassName","iconValue","Component","initializers","models","addActionLogPane","compat","actionLogCompat","excludedLoggingSetting","setting","JSON","stringify","form","action","getExcludedLoggingValue","parse","actionName","excludedLogging","push","item","SettingsModal","content","gambits","gambit","Modal","mixin","Model","attribute","hasOne","resourceId","transformDate","discussion","post","group","ItemList","Button","onclick","clear","modal","show","placeholder","oninput","search","Dropdown","buttonClassName","label","active","updateSort","moderation","administration","tag","extension","locked","unlocked","deleted","stickied","unstickied","suspended","unsuspended","approved","created","enabled","disabled","uninstalled","withAttr","searching","searchTimeout","clearTimeout","setTimeout","confirm","request","url","forum","method"],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./admin.js\");\n","export * from './src/admin'\r\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import { extend } from 'flarum/extend';\r\nimport ActionLogPage from './components/ActionLogPage';\r\nimport AdminNav from 'flarum/components/AdminNav';\r\nimport AdminLinkButton from 'flarum/components/AdminLinkButton';\r\n\r\nexport default function () {\r\n  app.routes['sycho-action-log'] = { path: '/action-log', component: ActionLogPage.component() };\r\n\r\n  app.extensionSettings['sycho-action-log'] = () => m.route(app.route('sycho-action-log'));\r\n\r\n  extend(AdminNav.prototype, 'items', (items) => {\r\n    items.add(\r\n      'sycho-action-log',\r\n      AdminLinkButton.component({\r\n        href: app.route('sycho-action-log'),\r\n        icon: 'fas fa-clipboard-list',\r\n        children: app.translator.trans('sycho-action-log.admin.title'),\r\n        description: app.translator.trans('sycho-action-log.admin.description'),\r\n      })\r\n    );\r\n  });\r\n}\r\n","import ActionLogPage from './components/ActionLogPage';\r\nimport Input from './components/Input';\r\nimport ActionLogSettingsModal from './modals/ActionLogSettingsModal';\r\nimport FiltersHelpModal from './modals/FiltersHelpModal';\r\nimport ActionLogEntry from './models/ActionLogEntry';\r\nimport ActionLogControls from './utils/ActionLogControls';\r\n\r\nexport default {\r\n  'actionLog/components/ActionLogPage': ActionLogPage,\r\n  'actionLog/components/Input': Input,\r\n  'actionLog/modals/ActionLogSettingsModal': ActionLogSettingsModal,\r\n  'actionLog/modals/FiltersHelpModal': FiltersHelpModal,\r\n  'actionLog/models/ActionLogEntry': ActionLogEntry,\r\n  'actionLog/utils/ActionLogControls': ActionLogControls,\r\n};\r\n","import Page from 'flarum/components/Page';\r\nimport LoadingIndicator from 'flarum/components/LoadingIndicator';\r\nimport humanTime from 'flarum/helpers/humanTime';\r\nimport icon from 'flarum/helpers/icon';\r\nimport avatar from 'flarum/helpers/avatar';\r\nimport username from 'flarum/helpers/username';\r\nimport Placeholder from 'flarum/components/Placeholder';\r\nimport Button from 'flarum/components/Button';\r\nimport Select from 'flarum/components/Select';\r\nimport ActionLogControls from '../utils/ActionLogControls';\r\n\r\nexport default class ActionLogPage extends Page {\r\n  init() {\r\n    super.init();\r\n\r\n    this.entries = [];\r\n\r\n    this.sortingOptions = {\r\n      newest: '-createdAt',\r\n      oldest: 'createdAt',\r\n    };\r\n\r\n    this.sort = 'newest';\r\n\r\n    this.offset = 0;\r\n\r\n    this.limit = 20;\r\n\r\n    this.total = 0;\r\n\r\n    this.count = 0;\r\n\r\n    this.page = 0;\r\n\r\n    this.query = m.prop('');\r\n\r\n    this.controls = new ActionLogControls(this);\r\n\r\n    this.load();\r\n  }\r\n\r\n  view() {\r\n    const { icons } = this.controls.actions();\r\n\r\n    return (\r\n      <div className=\"ActionLogPage\">\r\n        <div className=\"ActionLogPage-header\">\r\n          <div className=\"container\">\r\n            <h2>\r\n              {icon('fas fa-clipboard-list')} {app.translator.trans('sycho-action-log.admin.title')}\r\n            </h2>\r\n            <p>{app.translator.trans('sycho-action-log.admin.description')}</p>\r\n            <p>{app.translator.trans('sycho-action-log.admin.total_entries', { count: this.total || '0' })}</p>\r\n            {this.controls.mainControls(this).toArray()}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"ActionLogPage-content\">\r\n          <div className=\"container\">\r\n            <div className=\"ActionLogPage-navigation\">{this.controls.filterControls(this).toArray()}</div>\r\n            {this.loading ? (\r\n              <LoadingIndicator className=\"LoadingIndicator--block\" />\r\n            ) : this.entries.length ? (\r\n              [\r\n                <div className=\"ActionLogGrid\">\r\n                  {this.entries.map((entry) => (\r\n                    <div className=\"ActionLogGrid-item\">\r\n                      <div className=\"ActionLogGrid-Avatar\">{avatar(entry.actor())}</div>\r\n                      <div className=\"ActionLogGrid-itemContent\">\r\n                        <div className=\"ActionLogGrid-entryDetails\">\r\n                          <div className=\"ActionLogGrid-entryActor\">{username(entry.actor())}</div>\r\n                          <div className=\"ActionLogGrid-entryType\">{entry.type()}</div>\r\n                          <div className=\"ActionLogGrid-entryTime\">\r\n                            {icon('far fa-clock')} {humanTime(entry.createdAt())}\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"ActionLogGrid-entryName\">{entry.formattedName}</div>\r\n                      </div>\r\n                      <div className=\"ActionLogGrid-itemIcon\">\r\n                        <div className=\"ActionLogGrid-itemIconMain\">\r\n                          {icon(icons.resourceTypes[entry.resourceType()])}\r\n                          <span className=\"ActionLogGrid-itemIconSecondary\">{icon(icons.actionNames[entry.name()])}</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>,\r\n                <div className=\"ActionLogPage-navigation\">{this.buildPagination()}</div>,\r\n              ]\r\n            ) : (\r\n              <Placeholder text={app.translator.trans('sycho-action-log.admin.no_entries')} />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * @param entry\r\n   * @returns string\r\n   */\r\n  showActor(entry) {\r\n    if (!entry.actor()) return;\r\n\r\n    return (\r\n      <a>\r\n        {avatar(entry.actor())}\r\n        {username(entry.actor())}\r\n      </a>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Loads the log entries\r\n   */\r\n  load(params) {\r\n    this.loading = true;\r\n\r\n    app.store\r\n      .find('action-log-entries', this.requestParams(params || {}))\r\n      .then(this.handleResponse.bind(this))\r\n      .then(() => {\r\n        this.loading = false;\r\n        m.redraw();\r\n      });\r\n  }\r\n\r\n  requestParams({ offset, query, sort }) {\r\n    if (typeof offset !== 'undefined') {\r\n      this.offset = offset;\r\n    }\r\n\r\n    if (typeof sort !== 'undefined') {\r\n      this.sort = sort;\r\n    }\r\n\r\n    return {\r\n      page: {\r\n        offset: this.offset,\r\n        limit: this.limit,\r\n      },\r\n      filter: {\r\n        q: query,\r\n      },\r\n      sort: this.sortingOptions[this.sort],\r\n    };\r\n  }\r\n\r\n  handleResponse(response) {\r\n    this.entries = response;\r\n    this.total = response.payload.meta.total || 0;\r\n    this.count = response.payload.meta.count || 0;\r\n    this.links = response.payload.links;\r\n    this.page = Math.ceil(this.offset / this.limit);\r\n\r\n    this.entries.map((entry) => {\r\n      entry.formattedName = this.formatName(entry);\r\n    });\r\n\r\n    return response;\r\n  }\r\n\r\n  buildPagination() {\r\n    if (this.count <= this.limit) return;\r\n\r\n    return (\r\n      <div className=\"ActionLogPage-pagination\">\r\n        <Button className=\"Button Button--icon\" icon=\"fas fa-arrow-left\" onclick={this.prev.bind(this)} disabled={!this.hasPrev()} />\r\n        {<Select value={this.page} options={this.getPages()} onchange={this.changePage.bind(this)} />}\r\n        <Button className=\"Button Button--icon\" icon=\"fas fa-arrow-right\" onclick={this.next.bind(this)} disabled={!this.hasNext()} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  next() {\r\n    if (!this.hasNext()) return;\r\n\r\n    this.load({ offset: this.offset + this.limit });\r\n  }\r\n\r\n  prev() {\r\n    if (!this.hasPrev()) return;\r\n\r\n    this.load({ offset: this.offset - this.limit });\r\n  }\r\n\r\n  hasNext() {\r\n    return this.offset + this.limit < this.count;\r\n  }\r\n\r\n  hasPrev() {\r\n    return this.links.prev;\r\n  }\r\n\r\n  getPages() {\r\n    let pageRange = Array.from({ length: Math.ceil(this.count / this.limit) }, (v, k) => k + 1);\r\n\r\n    pageRange.map((number, index) => {\r\n      pageRange[index] = app.translator.trans('sycho-action-log.admin.page', { number });\r\n    });\r\n\r\n    return pageRange;\r\n  }\r\n\r\n  changePage(value) {\r\n    if (!Object.keys(this.getPages()).includes(value)) return;\r\n\r\n    this.load({ offset: value * this.limit });\r\n  }\r\n\r\n  /**\r\n   * Finds the appropriate language string\r\n   * and calls for the resource name to be built\r\n   *\r\n   * @param entry\r\n   * @returns string\r\n   */\r\n  formatName(entry) {\r\n    let key = `sycho-action-log.admin.actions.${entry.type()}`;\r\n    let format = entry.format();\r\n\r\n    if (entry.resourceType().length) {\r\n      key += `.${entry.resourceType()}`;\r\n    }\r\n\r\n    key += `.${entry.name()}.action`;\r\n\r\n    // If there are any objects, convert them to strings using the buildResourceName() method\r\n    Object.keys(format).map((key, index) => {\r\n      if (typeof format[key] !== 'object') return;\r\n\r\n      // The core code tries to get the displayName attribute when the\r\n      // translation parameter key is named 'user', even if the value is a string\r\n      // so we have no choice but to add some ugly hackish code here\r\n      format[key === 'user' ? 'u' : key] = this.buildResourceName(key, entry);\r\n\r\n      if (key === 'user') delete format.user;\r\n    });\r\n\r\n    Object.keys(format).map((key, index) => {\r\n      format[key] = <strong>{format[key]}</strong>;\r\n    });\r\n\r\n    return app.translator.trans(key, format);\r\n  }\r\n\r\n  /**\r\n   * Gives context to the resource manipulated\r\n   *\r\n   * @param format\r\n   * @param entry\r\n   * @returns string\r\n   */\r\n  buildResourceName(key, entry) {\r\n    const format = entry.format()[key] || {};\r\n    let name = format.title || '';\r\n\r\n    if (format.id) {\r\n      format.version = `#${format.id}`;\r\n    }\r\n\r\n    if (format.version) {\r\n      name = [name, <i> ({format.version})</i>];\r\n    }\r\n\r\n    if (format.icon) {\r\n      name = [\r\n        <span className=\"Badge ActionLogExtensionIcon\" style={format.icon}>\r\n          {icon(format.icon.name)}\r\n        </span>,\r\n        name,\r\n      ];\r\n    }\r\n\r\n    if (format.link) {\r\n      name = <a href={format.link}>{name}</a>;\r\n    }\r\n\r\n    return name;\r\n  }\r\n}\r\n","import Component from 'flarum/Component';\r\nimport icon from 'flarum/helpers/icon';\r\n\r\nexport default class Input extends Component {\r\n  view() {\r\n    this.props.className = this.props.className || '';\r\n\r\n    this.props.className += ' ActionLog-FormControl';\r\n\r\n    if (this.props.icon) {\r\n      this.props.className += ' hasIcon';\r\n    }\r\n\r\n    let className = `ActionLog-input ${this.props.parentClassName || ''}`;\r\n\r\n    return (\r\n      <div className={className}>\r\n        {this.icon()}\r\n        <input {...this.props} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  icon() {\r\n    if (!this.props.icon) return;\r\n\r\n    const iconValue = this.props.icon;\r\n\r\n    delete this.props.icon;\r\n\r\n    return <span class=\"ActionLog-inputIcon\">{icon(iconValue)}</span>;\r\n  }\r\n}\r\n","import app from 'flarum/app';\r\nimport ActionLogEntry from './models/ActionLogEntry';\r\nimport addActionLogPane from './addActionLogPane';\r\n\r\napp.initializers.add('sycho-action-log', (app) => {\r\n  app.store.models['action-log-entries'] = ActionLogEntry;\r\n\r\n  addActionLogPane();\r\n});\r\n\r\nimport actionLogCompat from './compat';\r\nimport { compat } from '@flarum/core/admin';\r\n\r\nObject.assign(compat, actionLogCompat);\r\n","import SettingsModal from 'flarum/components/SettingsModal';\r\nimport Switch from 'flarum/components/Switch';\r\nimport Button from 'flarum/components/Button';\r\nimport icon from 'flarum/helpers/icon';\r\n\r\nexport default class ActionLogSettingsModal extends SettingsModal {\r\n  init() {\r\n    super.init();\r\n\r\n    this.excludedLoggingSetting = this.setting('sycho-action-log.excluded_logging', JSON.stringify([]));\r\n  }\r\n\r\n  title() {\r\n    return app.translator.trans('sycho-action-log.admin.settings');\r\n  }\r\n\r\n  form() {\r\n    const actions = this.props.actions.items;\r\n    const icons = this.props.actions.icons;\r\n\r\n    return [\r\n      <p>{app.translator.trans('sycho-action-log.admin.action_settings')}</p>,\r\n      Object.keys(actions).map((key) => (\r\n        <div className=\"ActionLogSettings-logTypes\">\r\n          <h3>\r\n            <span>{app.translator.trans(`sycho-action-log.admin.actions.${key}.label`)}</span>\r\n          </h3>\r\n          {Object.keys(actions[key]).map((resourceType) => (\r\n            <div className=\"ActionLogSettings-resourceTypes\">\r\n              <h4>\r\n                {app.translator.trans(`sycho-action-log.admin.actions.${key}.${resourceType}.label`)}\r\n                <span className=\"ActionLog-titleIcon\">{icon(icons.resourceTypes[resourceType])}</span>\r\n              </h4>\r\n              {actions[key][resourceType].map((action) => (\r\n                <div className=\"Form-group\">\r\n                  <Switch\r\n                    state={!this.getExcludedLoggingValue().includes(`${key}.${resourceType}.${action}`)}\r\n                    onchange={this.switch.bind(this, key, resourceType, action)}\r\n                  >\r\n                    {app.translator.trans(`sycho-action-log.admin.actions.${key}.${resourceType}.${action}.label`)}\r\n                    <span className=\"ActionLog-titleIcon\">{icon(icons.actionNames[action])}</span>\r\n                  </Switch>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )),\r\n    ];\r\n  }\r\n\r\n  getExcludedLoggingValue() {\r\n    return JSON.parse(this.excludedLoggingSetting());\r\n  }\r\n\r\n  switch(key, resourceType, action, value) {\r\n    const actionName = `${key}.${resourceType}.${action}`;\r\n    let excludedLogging = this.getExcludedLoggingValue();\r\n\r\n    if (!value) excludedLogging.push(actionName);\r\n    else excludedLogging = excludedLogging.filter((item) => item !== actionName);\r\n\r\n    this.excludedLoggingSetting(JSON.stringify(excludedLogging));\r\n  }\r\n}\r\n","import Modal from 'flarum/components/Modal';\r\n\r\nexport default class FiltersHelpModal extends Modal {\r\n  content() {\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        {app.translator.trans('sycho-action-log.admin.gambits.description')}\r\n        <ul>\r\n          {this.gambits().map((gambit) => (\r\n            <li>\r\n              <strong>{gambit}:</strong> {app.translator.trans(`sycho-action-log.admin.gambits.items.${gambit}`)}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  title() {\r\n    return app.translator.trans('sycho-action-log.admin.gambits.label');\r\n  }\r\n\r\n  gambits() {\r\n    return ['type', 'resource', 'actor'];\r\n  }\r\n}\r\n","import Model from 'flarum/Model';\r\nimport mixin from 'flarum/utils/mixin';\r\n\r\nexport default class ActionLogEntry extends mixin(Model, {\r\n  id: Model.attribute('id'),\r\n  name: Model.attribute('name'),\r\n  type: Model.attribute('type'),\r\n  actor: Model.hasOne('actor'),\r\n  resourceType: Model.attribute('resource_type'),\r\n  resourceId: Model.attribute('resource_id'),\r\n  createdAt: Model.attribute('created_at', Model.transformDate),\r\n  format: Model.attribute('format'),\r\n\r\n  discussion: Model.hasOne('discussion'),\r\n  post: Model.hasOne('post'),\r\n  group: Model.hasOne('group'),\r\n  user: Model.hasOne('user'),\r\n}) {}\r\n","import ItemList from 'flarum/utils/ItemList';\nimport Button from 'flarum/components/Button';\nimport Dropdown from 'flarum/components/Dropdown';\nimport Input from '../components/Input';\nimport ActionLogSettingsModal from '../modals/ActionLogSettingsModal';\nimport FiltersHelpModal from '../modals/FiltersHelpModal';\n\nexport default class ActionLogControls {\n  constructor(component) {\n    this.component = component;\n  }\n\n  mainControls() {\n    const items = new ItemList();\n\n    items.add(\n      'clear',\n      Button.component({\n        className: 'Button Button--primary',\n        children: app.translator.trans('sycho-action-log.admin.clear'),\n        icon: 'fas fa-trash',\n        onclick: this.clear.bind(this),\n      })\n    );\n\n    items.add(\n      'settings',\n      Button.component({\n        className: 'Button',\n        children: app.translator.trans('sycho-action-log.admin.settings'),\n        icon: 'fas fa-cogs',\n        onclick: () => app.modal.show(ActionLogSettingsModal, { actions: this.actions() }),\n      })\n    );\n\n    return items;\n  }\n\n  filterControls() {\n    const items = new ItemList();\n\n    items.add(\n      'search',\n      Input.component({\n        icon: 'fas fa-filter',\n        parentClassName: 'ActionLog-search',\n        className: 'FormControl',\n        placeholder: app.translator.trans('sycho-action-log.admin.search'),\n        value: this.component.query(),\n        oninput: this.search.bind(this),\n      })\n    );\n\n    items.add(\n      'help',\n      Button.component({\n        className: 'Button Button--icon',\n        icon: 'fas fa-question',\n        onclick: () => app.modal.show(FiltersHelpModal),\n      })\n    );\n\n    items.add(\n      'sort',\n      Dropdown.component({\n        buttonClassName: 'Button',\n        label: app.translator.trans(`sycho-action-log.admin.sort.${this.component.sort}`),\n        children: Object.keys(this.component.sortingOptions).map((key) => {\n          const active = this.component.sort === key;\n\n          return Button.component({\n            children: app.translator.trans(`sycho-action-log.admin.sort.${key}`),\n            icon: active ? 'fas fa-check' : true,\n            onclick: this.updateSort.bind(this, key),\n            active,\n          });\n        }),\n      })\n    );\n\n    items.add('pagination', this.component.buildPagination());\n\n    items.add(\n      'refresh',\n      Button.component({\n        className: 'Button Button--icon',\n        icon: 'fas fa-sync',\n        onclick: this.component.load.bind(this.component),\n      })\n    );\n\n    return items;\n  }\n\n  actions() {\n    const items = {\n      moderation: {\n        discussion: ['locked', 'unlocked', 'deleted', 'stickied', 'unstickied'],\n        user: ['suspended', 'unsuspended'],\n        post: ['approved'],\n      },\n      administration: {\n        group: ['created', 'deleted'],\n        tag: ['created', 'deleted'],\n        extension: ['enabled', 'disabled', 'uninstalled'],\n      },\n    };\n\n    const icons = {\n      resourceTypes: {\n        discussion: 'fas fa-comments',\n        user: 'fas fa-user',\n        post: 'fas fa-reply',\n        extension: 'fas fa-puzzle-piece',\n        group: 'fas fa-key',\n        tag: 'fas fa-tag',\n      },\n      actionNames: {\n        locked: 'fas fa-lock',\n        unlocked: 'fas fa-unlock',\n        deleted: 'fas fa-trash',\n        stickied: 'fas fa-thumbtack',\n        unstickied: 'fas fa-thumbtack',\n        suspended: 'fas fa-ban',\n        unsuspended: 'fas fa-check-circle',\n        approved: 'fas fa-check-circle',\n        created: 'fas fa-plus-circle',\n        enabled: 'fas fa-check-circle',\n        disabled: 'fas fa-ban',\n        uninstalled: 'fas fa-times-circle',\n      },\n    };\n\n    return { items, icons };\n  }\n\n  updateSort(sort) {\n    this.component.load({ sort });\n  }\n\n  search() {\n    m.withAttr('value', this.component.query)();\n\n    this.component.loading = true;\n    this.searching = () => this.component.load({ query: this.component.query() });\n\n    if (this.searchTimeout) clearTimeout(this.searchTimeout);\n\n    this.searchTimeout = setTimeout(this.searching, 250);\n  }\n\n  clear() {\n    if (!confirm(app.translator.trans('sycho-action-log.admin.clear_confirmation'))) return;\n\n    this.component.loading = true;\n\n    app\n      .request({\n        url: app.forum.attribute('apiUrl') + '/action-log-entries',\n        method: 'DELETE',\n      })\n      .then(() => this.component.load());\n  }\n}\n","module.exports = flarum.core;","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['components/AdminLinkButton'];","module.exports = flarum.core.compat['components/AdminNav'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/Dropdown'];","module.exports = flarum.core.compat['components/LoadingIndicator'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['components/Placeholder'];","module.exports = flarum.core.compat['components/Select'];","module.exports = flarum.core.compat['components/SettingsModal'];","module.exports = flarum.core.compat['components/Switch'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['helpers/avatar'];","module.exports = flarum.core.compat['helpers/humanTime'];","module.exports = flarum.core.compat['helpers/icon'];","module.exports = flarum.core.compat['helpers/username'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['utils/mixin'];"],"sourceRoot":""}